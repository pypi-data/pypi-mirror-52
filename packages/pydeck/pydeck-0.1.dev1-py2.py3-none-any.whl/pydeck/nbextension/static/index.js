define(["@jupyter-widgets/base","mapbox-gl","h3","S2","deck.gl"],function(e,t,n,o,r){return function(e){function t(t){for(var n,r,i=t[0],u=t[1],c=0,s=[];c<i.length;c++)r=i[c],o[r]&&s.push(o[r][0]),o[r]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(l&&l(t);s.length;)s.shift()()}var n={},o={0:0};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;return r(r.s=13)}([function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(t,n){t.exports=e},function(e,t,n){var o=n(8);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t,n){var o=n(9),r=n(10);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?r(e):t}},function(e,t,n){n(0);var o=n(11);function r(t,n,i){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=r=Reflect.get:e.exports=r=function(e,t,n){var r=o(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},r(t,n,i||t)}e.exports=r},function(e,t,n){var o=n(12);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=o=function(e){return n(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},o(t)}e.exports=o},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){var o=n(0);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n},function(e,t,n){"use strict";n.r(t);var o="@deck.gl/jupyter-widget",r=n(2),i=n.n(r),u=n(3),c=n.n(u),l=n(4),s=n.n(l),a=n(5),f=n.n(a),p=n(0),d=n.n(p),y=n(6),m=n.n(y),b=n(7),h=n.n(b),v=n(1);function g(e,t){var n=t.jsonConverter,o=t.deckConfig,r=n.convertJsonToDeckProps(e);o.setProps(r)}function _(e,t,o){var r=e.mapboxApiKey,i=e.container,u=e.jsonInput;Promise.resolve().then(function(){var e=[n(14),n(15),n(16)];(function(e){Promise.resolve().then(function(){var c=[n(17)];(function(n){try{var c={};Object.keys(n).filter(function(e){return e.indexOf("Layer")>0&&0!==e.indexOf("_")}).map(function(e){return c[e]=n[e]});var l=new n._JSONConverter({configuration:{layers:c}}),s=new n.DeckGL({map:e,mapboxApiAccessToken:r,latitude:0,longitude:0,zoom:1,onClick:o,container:i,onLoad:function(){return g(u,{jsonConverter:l,deckConfig:s})}});t&&t({jsonConverter:l,deckConfig:s})}catch(e){console.error(e)}return{}}).apply(null,c)}).catch(n.oe)}).apply(null,e)}).catch(n.oe)}var x=function(e){function t(){return c()(this,t),f()(this,d()(t).apply(this,arguments))}return h()(t,e),s()(t,[{key:"defaults",value:function(){return i()({},m()(d()(t.prototype),"defaults",this).call(this),{_model_name:t.model_name,_model_module:t.model_module,_model_module_version:t.model_module_version,_view_name:t.view_name,_view_module:t.view_module,_view_module_version:t.view_module_version,json_input:null,mapbox_key:null,selected_data:null,initialized:!1,width:500,height:500})}}],[{key:"serializers",get:function(){return i()({},v.DOMWidgetModel.serializers)}},{key:"model_name",get:function(){return"DeckGLModel"}},{key:"model_module",get:function(){return o}},{key:"model_module_version",get:function(){return"7.3.0-alpha.6"}},{key:"view_name",get:function(){return"DeckGLView"}},{key:"view_module",get:function(){return o}},{key:"view_module_version",get:function(){return"7.3.0-alpha.6"}}]),t}(v.DOMWidgetModel),w=function(e){function t(){return c()(this,t),f()(this,d()(t).apply(this,arguments))}return h()(t,e),s()(t,[{key:"render",value:function(){var e=this;m()(d()(t.prototype),"render",this).call(this),this.model.on("change:json_input",this.valueChanged.bind(this),this);var n,o,r=this.model.get("initialized"),i=document.createElement("div");r||(i.style.height="".concat(this.model.get("height"),"px"),i.style.width="".concat(this.model.get("width"),"px"),this.el.appendChild(i),n="https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.1/mapbox-gl.css",(o=document.createElement("link")).type="text/css",o.rel="stylesheet",o.href=n,document.getElementsByTagName("head")[0].appendChild(o),_({mapboxApiKey:this.model.get("mapbox_key"),container:i,jsonInput:JSON.parse(this.model.get("json_input"))},function(t){e.jsonDeck=t},this.handleClick.bind(this)),this.model.set("initialized",!0))}},{key:"valueChanged",value:function(){var e;g(JSON.parse(this.model.get("json_input")),this.jsonDeck),(e=document.getElementsByClassName("mapboxgl-missing-css")[0])&&(e.style.display="none")}},{key:"handleClick",value:function(e){e&&(e.object&&e.object.points?this.model.set("selected_data",e.object.points):this.model.set("selected_data",e.object),this.model.save_changes())}}]),t}(v.DOMWidgetView);n.d(t,"MODULE_VERSION",function(){return"7.3.0-alpha.6"}),n.d(t,"MODULE_NAME",function(){return o}),n.d(t,"DeckGLModel",function(){return x}),n.d(t,"DeckGLView",function(){return w}),n.d(t,"initDeck",function(){return _});var O=document.querySelector("body").getAttribute("data-base-url");O&&(window.__webpack_public_path__="".concat(O,"nbextensions/pydeck/nb_extension"))},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t){e.exports=r}])});
//# sourceMappingURL=index.js.map