

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>aws_encryption_sdk &mdash; aws-encryption-sdk-python 1.4.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="aws_encryption_sdk.exceptions" href="aws_encryption_sdk.exceptions.html" />
    <link rel="prev" title="aws-encryption-sdk" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> aws-encryption-sdk-python
          

          
          </a>

          
            
            
              <div class="version">
                1.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">aws_encryption_sdk</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.exceptions.html">aws_encryption_sdk.exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.identifiers.html">aws_encryption_sdk.identifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.caches.html">aws_encryption_sdk.caches</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.caches.base.html">aws_encryption_sdk.caches.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.caches.local.html">aws_encryption_sdk.caches.local</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.caches.null.html">aws_encryption_sdk.caches.null</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.key_providers.base.html">aws_encryption_sdk.key_providers.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.key_providers.kms.html">aws_encryption_sdk.key_providers.kms</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.key_providers.raw.html">aws_encryption_sdk.key_providers.raw</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.materials_managers.html">aws_encryption_sdk.materials_managers</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.materials_managers.base.html">aws_encryption_sdk.materials_managers.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.materials_managers.caching.html">aws_encryption_sdk.materials_managers.caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.materials_managers.default.html">aws_encryption_sdk.materials_managers.default</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.streaming_client.html">aws_encryption_sdk.streaming_client</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.structures.html">aws_encryption_sdk.structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.internal.html">aws_encryption_sdk.internal</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.internal.crypto.authentication.html">aws_encryption_sdk.internal.crypto.authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.internal.crypto.data_keys.html">aws_encryption_sdk.internal.crypto.data_keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.internal.crypto.elliptic_curve.html">aws_encryption_sdk.internal.crypto.elliptic_curve</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.internal.crypto.encryption.html">aws_encryption_sdk.internal.crypto.encryption</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.internal.crypto.iv.html">aws_encryption_sdk.internal.crypto.iv</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.internal.crypto.wrapping_keys.html">aws_encryption_sdk.internal.crypto.wrapping_keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.internal.defaults.html">aws_encryption_sdk.internal.defaults</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.internal.formatting.html">aws_encryption_sdk.internal.formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.internal.formatting.deserialize.html">aws_encryption_sdk.internal.formatting.deserialize</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.internal.formatting.encryption_context.html">aws_encryption_sdk.internal.formatting.encryption_context</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.internal.formatting.serialize.html">aws_encryption_sdk.internal.formatting.serialize</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.internal.str_ops.html">aws_encryption_sdk.internal.str_ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.internal.structures.html">aws_encryption_sdk.internal.structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws_encryption_sdk.internal.utils.html">aws_encryption_sdk.internal.utils</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">aws-encryption-sdk-python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>aws_encryption_sdk</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/generated/aws_encryption_sdk.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-aws_encryption_sdk">
<span id="aws-encryption-sdk"></span><h1>aws_encryption_sdk<a class="headerlink" href="#module-aws_encryption_sdk" title="Permalink to this headline">¶</a></h1>
<p>High level AWS Encryption SDK client functions.</p>
<p class="rubric">Functions</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#aws_encryption_sdk.decrypt" title="aws_encryption_sdk.decrypt"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decrypt</span></code></a>(**kwargs)</p></td>
<td><p>Deserializes and decrypts provided ciphertext.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#aws_encryption_sdk.encrypt" title="aws_encryption_sdk.encrypt"><code class="xref py py-obj docutils literal notranslate"><span class="pre">encrypt</span></code></a>(**kwargs)</p></td>
<td><p>Encrypts and serializes provided plaintext.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#aws_encryption_sdk.stream" title="aws_encryption_sdk.stream"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stream</span></code></a>(**kwargs)</p></td>
<td><p>Provides an <a class="reference external" href="https://docs.python.org/3/library/functions.html#open" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>-like interface to the streaming encryptor/decryptor classes.</p></td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="aws_encryption_sdk.encrypt">
<code class="sig-prename descclassname">aws_encryption_sdk.</code><code class="sig-name descname">encrypt</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#aws_encryption_sdk.encrypt" title="Permalink to this definition">¶</a></dt>
<dd><p>Encrypts and serializes provided plaintext.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using this function, the entire ciphertext message is encrypted into memory before returning
any data.  If streaming is desired, see <a class="reference internal" href="#aws_encryption_sdk.stream" title="aws_encryption_sdk.stream"><code class="xref py py-class docutils literal notranslate"><span class="pre">aws_encryption_sdk.stream</span></code></a>.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">aws_encryption_sdk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kms_key_provider</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">KMSMasterKeyProvider</span><span class="p">(</span><span class="n">key_ids</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>    <span class="s1">&#39;arn:aws:kms:us-east-1:2222222222222:key/22222222-2222-2222-2222-222222222222&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;arn:aws:kms:us-east-1:3333333333333:key/33333333-3333-3333-3333-333333333333&#39;</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_ciphertext</span><span class="p">,</span> <span class="n">encryptor_header</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">encrypt</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">source</span><span class="o">=</span><span class="n">my_plaintext</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">key_provider</span><span class="o">=</span><span class="n">kms_key_provider</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="aws_encryption_sdk.streaming_client.html#aws_encryption_sdk.streaming_client.EncryptorConfig" title="aws_encryption_sdk.streaming_client.EncryptorConfig"><em>aws_encryption_sdk.streaming_client.EncryptorConfig</em></a>) – Client configuration object (config or individual parameters required)</p></li>
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/io.html#io.IOBase" title="(in Python v3.7)"><em>io.IOBase</em></a><em>, or </em><em>file</em>) – Source data to encrypt or decrypt</p></li>
<li><p><strong>materials_manager</strong> (<a class="reference internal" href="aws_encryption_sdk.materials_managers.base.html#aws_encryption_sdk.materials_managers.base.CryptoMaterialsManager" title="aws_encryption_sdk.materials_managers.base.CryptoMaterialsManager"><em>aws_encryption_sdk.materials_managers.base.CryptoMaterialsManager</em></a>) – <cite>CryptoMaterialsManager</cite> from which to obtain cryptographic materials
(either <cite>materials_manager</cite> or <cite>key_provider</cite> required)</p></li>
<li><p><strong>key_provider</strong> (<a class="reference internal" href="aws_encryption_sdk.key_providers.base.html#aws_encryption_sdk.key_providers.base.MasterKeyProvider" title="aws_encryption_sdk.key_providers.base.MasterKeyProvider"><em>aws_encryption_sdk.key_providers.base.MasterKeyProvider</em></a>) – <cite>MasterKeyProvider</cite> from which to obtain data keys for encryption
(either <cite>materials_manager</cite> or <cite>key_provider</cite> required)</p></li>
<li><p><strong>source_length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – <p>Length of source data (optional)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If source_length is not provided and unframed message is being written or read() is called,
will attempt to seek() to the end of the stream and tell() to find the length of source data.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3.0.</span></p>
</div>
<p>If <cite>source_length</cite> and <cite>materials_manager</cite> are both provided, the total plaintext bytes
encrypted will not be allowed to exceed <cite>source_length</cite>. To maintain backwards compatibility,
this is not enforced if a <cite>key_provider</cite> is provided.</p>
</div>
</p></li>
<li><p><strong>encryption_context</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Dictionary defining encryption context</p></li>
<li><p><strong>algorithm</strong> (<em>aws_encryption_sdk.identifiers.Algorithm</em>) – Algorithm to use for encryption</p></li>
<li><p><strong>frame_length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Frame length in bytes</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tuple containing the encrypted ciphertext and the message header object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple of bytes and <a class="reference internal" href="aws_encryption_sdk.structures.html#aws_encryption_sdk.structures.MessageHeader" title="aws_encryption_sdk.structures.MessageHeader"><code class="xref py py-class docutils literal notranslate"><span class="pre">aws_encryption_sdk.structures.MessageHeader</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="aws_encryption_sdk.decrypt">
<code class="sig-prename descclassname">aws_encryption_sdk.</code><code class="sig-name descname">decrypt</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#aws_encryption_sdk.decrypt" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserializes and decrypts provided ciphertext.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using this function, the entire ciphertext message is decrypted into memory before returning
any data.  If streaming is desired, see <a class="reference internal" href="#aws_encryption_sdk.stream" title="aws_encryption_sdk.stream"><code class="xref py py-class docutils literal notranslate"><span class="pre">aws_encryption_sdk.stream</span></code></a>.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">aws_encryption_sdk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kms_key_provider</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">KMSMasterKeyProvider</span><span class="p">(</span><span class="n">key_ids</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>    <span class="s1">&#39;arn:aws:kms:us-east-1:2222222222222:key/22222222-2222-2222-2222-222222222222&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;arn:aws:kms:us-east-1:3333333333333:key/33333333-3333-3333-3333-333333333333&#39;</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_ciphertext</span><span class="p">,</span> <span class="n">encryptor_header</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">source</span><span class="o">=</span><span class="n">my_ciphertext</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">key_provider</span><span class="o">=</span><span class="n">kms_key_provider</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="aws_encryption_sdk.streaming_client.html#aws_encryption_sdk.streaming_client.DecryptorConfig" title="aws_encryption_sdk.streaming_client.DecryptorConfig"><em>aws_encryption_sdk.streaming_client.DecryptorConfig</em></a>) – Client configuration object (config or individual parameters required)</p></li>
<li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/io.html#io.IOBase" title="(in Python v3.7)"><em>io.IOBase</em></a><em>, or </em><em>file</em>) – Source data to encrypt or decrypt</p></li>
<li><p><strong>materials_manager</strong> (<a class="reference internal" href="aws_encryption_sdk.materials_managers.base.html#aws_encryption_sdk.materials_managers.base.CryptoMaterialsManager" title="aws_encryption_sdk.materials_managers.base.CryptoMaterialsManager"><em>aws_encryption_sdk.materials_managers.base.CryptoMaterialsManager</em></a>) – <cite>CryptoMaterialsManager</cite> from which to obtain cryptographic materials
(either <cite>materials_manager</cite> or <cite>key_provider</cite> required)</p></li>
<li><p><strong>key_provider</strong> (<a class="reference internal" href="aws_encryption_sdk.key_providers.base.html#aws_encryption_sdk.key_providers.base.MasterKeyProvider" title="aws_encryption_sdk.key_providers.base.MasterKeyProvider"><em>aws_encryption_sdk.key_providers.base.MasterKeyProvider</em></a>) – <cite>MasterKeyProvider</cite> from which to obtain data keys for decryption
(either <cite>materials_manager</cite> or <cite>key_provider</cite> required)</p></li>
<li><p><strong>source_length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – <p>Length of source data (optional)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If source_length is not provided and read() is called, will attempt to seek()
to the end of the stream and tell() to find the length of source data.</p>
</div>
</p></li>
<li><p><strong>max_body_length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum frame size (or content length for non-framed messages)
in bytes to read from ciphertext message.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tuple containing the decrypted plaintext and the message header object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple of bytes and <a class="reference internal" href="aws_encryption_sdk.structures.html#aws_encryption_sdk.structures.MessageHeader" title="aws_encryption_sdk.structures.MessageHeader"><code class="xref py py-class docutils literal notranslate"><span class="pre">aws_encryption_sdk.structures.MessageHeader</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="aws_encryption_sdk.stream">
<code class="sig-prename descclassname">aws_encryption_sdk.</code><code class="sig-name descname">stream</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#aws_encryption_sdk.stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides an <a class="reference external" href="https://docs.python.org/3/library/functions.html#open" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>-like interface to the streaming encryptor/decryptor classes.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Take care when decrypting framed messages with large frame length and large non-framed
messages. In order to protect the authenticity of the encrypted data, no plaintext
is returned until it has been authenticated. Because of this, potentially large amounts
of data may be read into memory.  In the case of framed messages, the entire contents
of each frame are read into memory and authenticated before returning any plaintext.
In the case of non-framed messages, the entire message is read into memory and
authenticated before returning any plaintext.  The authenticated plaintext is held in
memory until it is requested.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Consequently, keep the above decrypting consideration in mind when encrypting messages
to ensure that issues are not encountered when decrypting those messages.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">aws_encryption_sdk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kms_key_provider</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">KMSMasterKeyProvider</span><span class="p">(</span><span class="n">key_ids</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>    <span class="s1">&#39;arn:aws:kms:us-east-1:2222222222222:key/22222222-2222-2222-2222-222222222222&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;arn:aws:kms:us-east-1:3333333333333:key/33333333-3333-3333-3333-333333333333&#39;</span>
<span class="gp">... </span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plaintext_filename</span> <span class="o">=</span> <span class="s1">&#39;my-secret-data.dat&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ciphertext_filename</span> <span class="o">=</span> <span class="s1">&#39;my-encrypted-data.ct&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">plaintext_filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">pt_file</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="n">ciphertext_filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ct_file</span><span class="p">:</span>
<span class="gp">... </span>     <span class="k">with</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">source</span><span class="o">=</span><span class="n">pt_file</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">key_provider</span><span class="o">=</span><span class="n">kms_key_provider</span>
<span class="gp">... </span>    <span class="p">)</span> <span class="k">as</span> <span class="n">encryptor</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">encryptor</span><span class="p">:</span>
<span class="gp">... </span>             <span class="n">ct_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_plaintext_filename</span> <span class="o">=</span> <span class="s1">&#39;my-decrypted-data.dat&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">ciphertext_filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ct_file</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="n">new_plaintext_filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">pt_file</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">source</span><span class="o">=</span><span class="n">ct_file</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">key_provider</span><span class="o">=</span><span class="n">kms_key_provider</span>
<span class="gp">... </span>    <span class="p">)</span> <span class="k">as</span> <span class="n">decryptor</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">decryptor</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">pt_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Type of streaming client to return (e/encrypt: encryptor, d/decrypt: decryptor)</p></li>
<li><p><strong>**kwargs</strong> – <p>All other parameters provided are passed to the appropriate Streaming client</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Streaming Encryptor or Decryptor, as requested</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="aws_encryption_sdk.streaming_client.html#aws_encryption_sdk.streaming_client.StreamEncryptor" title="aws_encryption_sdk.streaming_client.StreamEncryptor"><code class="xref py py-class docutils literal notranslate"><span class="pre">aws_encryption_sdk.streaming_client.StreamEncryptor</span></code></a>
or <a class="reference internal" href="aws_encryption_sdk.streaming_client.html#aws_encryption_sdk.streaming_client.StreamDecryptor" title="aws_encryption_sdk.streaming_client.StreamDecryptor"><code class="xref py py-class docutils literal notranslate"><span class="pre">aws_encryption_sdk.streaming_client.StreamDecryptor</span></code></a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – if supplied with an unsupported mode value</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="aws_encryption_sdk.exceptions.html" class="btn btn-neutral float-right" title="aws_encryption_sdk.exceptions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral float-left" title="aws-encryption-sdk" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Amazon

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>