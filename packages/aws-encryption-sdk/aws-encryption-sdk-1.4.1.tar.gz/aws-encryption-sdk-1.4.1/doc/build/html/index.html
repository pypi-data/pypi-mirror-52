

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>aws-encryption-sdk &mdash; aws-encryption-sdk-python 1.4.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="aws_encryption_sdk" href="generated/aws_encryption_sdk.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> aws-encryption-sdk-python
          

          
          </a>

          
            
            
              <div class="version">
                1.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.html">aws_encryption_sdk</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.exceptions.html">aws_encryption_sdk.exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.identifiers.html">aws_encryption_sdk.identifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.caches.html">aws_encryption_sdk.caches</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.caches.base.html">aws_encryption_sdk.caches.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.caches.local.html">aws_encryption_sdk.caches.local</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.caches.null.html">aws_encryption_sdk.caches.null</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.key_providers.base.html">aws_encryption_sdk.key_providers.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.key_providers.kms.html">aws_encryption_sdk.key_providers.kms</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.key_providers.raw.html">aws_encryption_sdk.key_providers.raw</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.materials_managers.html">aws_encryption_sdk.materials_managers</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.materials_managers.base.html">aws_encryption_sdk.materials_managers.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.materials_managers.caching.html">aws_encryption_sdk.materials_managers.caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.materials_managers.default.html">aws_encryption_sdk.materials_managers.default</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.streaming_client.html">aws_encryption_sdk.streaming_client</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.structures.html">aws_encryption_sdk.structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.internal.html">aws_encryption_sdk.internal</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.internal.crypto.authentication.html">aws_encryption_sdk.internal.crypto.authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.internal.crypto.data_keys.html">aws_encryption_sdk.internal.crypto.data_keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.internal.crypto.elliptic_curve.html">aws_encryption_sdk.internal.crypto.elliptic_curve</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.internal.crypto.encryption.html">aws_encryption_sdk.internal.crypto.encryption</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.internal.crypto.iv.html">aws_encryption_sdk.internal.crypto.iv</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.internal.crypto.wrapping_keys.html">aws_encryption_sdk.internal.crypto.wrapping_keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.internal.defaults.html">aws_encryption_sdk.internal.defaults</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.internal.formatting.html">aws_encryption_sdk.internal.formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.internal.formatting.deserialize.html">aws_encryption_sdk.internal.formatting.deserialize</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.internal.formatting.encryption_context.html">aws_encryption_sdk.internal.formatting.encryption_context</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.internal.formatting.serialize.html">aws_encryption_sdk.internal.formatting.serialize</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.internal.str_ops.html">aws_encryption_sdk.internal.str_ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.internal.structures.html">aws_encryption_sdk.internal.structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/aws_encryption_sdk.internal.utils.html">aws_encryption_sdk.internal.utils</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">aws-encryption-sdk-python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>aws-encryption-sdk</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="aws-encryption-sdk">
<h1>aws-encryption-sdk<a class="headerlink" href="#aws-encryption-sdk" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://pypi.python.org/pypi/aws-encryption-sdk"><img alt="Latest Version" src="https://img.shields.io/pypi/v/aws-encryption-sdk.svg" /></a>
<a class="reference external image-reference" href="https://pypi.python.org/pypi/aws-encryption-sdk"><img alt="Supported Python Versions" src="https://img.shields.io/pypi/pyversions/aws-encryption-sdk-cli.svg" /></a>
<a class="reference external image-reference" href="https://github.com/ambv/black"><img alt="Code style: black" src="https://img.shields.io/badge/code_style-black-000000.svg" /></a>
<a class="reference external image-reference" href="https://aws-encryption-sdk-python.readthedocs.io/en/stable/"><img alt="Documentation Status" src="https://readthedocs.org/projects/aws-encryption-sdk-python/badge/" /></a>
<a class="reference external image-reference" href="https://travis-ci.org/aws/aws-encryption-sdk-python"><img alt="https://travis-ci.org/aws/aws-encryption-sdk-python.svg?branch=master" src="https://travis-ci.org/aws/aws-encryption-sdk-python.svg?branch=master" /></a>
<a class="reference external image-reference" href="https://ci.appveyor.com/project/mattsb42-aws/aws-encryption-sdk-python-qvyet/branch/master"><img alt="https://ci.appveyor.com/api/projects/status/p3e2e63gsnp3cwd8/branch/master?svg=true" src="https://ci.appveyor.com/api/projects/status/p3e2e63gsnp3cwd8/branch/master?svg=true" /></a>
<p>The AWS Encryption SDK for Python provides a fully compliant, native Python implementation of the <a class="reference external" href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/introduction.html">AWS Encryption SDK</a>.</p>
<p>The latest full documentation can be found at <a class="reference external" href="http://aws-encryption-sdk-python.readthedocs.io/en/latest/">Read the Docs</a>.</p>
<p>Find us on <a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/">GitHub</a>.</p>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<div class="section" id="required-prerequisites">
<h3>Required Prerequisites<a class="headerlink" href="#required-prerequisites" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Python 2.7+ or 3.4+</p></li>
<li><p>cryptography &gt;= 1.8.1</p></li>
<li><p>boto3</p></li>
<li><p>attrs</p></li>
</ul>
</div>
<div class="section" id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have not already installed <a class="reference external" href="https://cryptography.io/en/latest/">cryptography</a>, you might need to install additional prerequisites as
detailed in the <a class="reference external" href="https://cryptography.io/en/latest/installation/">cryptography installation guide</a> for your operating system.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install aws-encryption-sdk
</pre></div>
</div>
</div>
</div>
<div class="section" id="concepts">
<h3>Concepts<a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h3>
<p>There are four main concepts that you need to understand to use this library:</p>
<div class="section" id="cryptographic-materials-managers">
<h4>Cryptographic Materials Managers<a class="headerlink" href="#cryptographic-materials-managers" title="Permalink to this headline">¶</a></h4>
<p>Cryptographic materials managers (CMMs) are resources that collect cryptographic materials and prepare them for
use by the Encryption SDK core logic.</p>
<p>An example of a CMM is the default CMM, which is automatically generated anywhere a caller provides a master
key provider. The default CMM collects encrypted data keys from all master keys referenced by the master key
provider.</p>
<p>An example of a more advanced CMM is the caching CMM, which caches cryptographic materials provided by another CMM.</p>
</div>
<div class="section" id="master-key-providers">
<h4>Master Key Providers<a class="headerlink" href="#master-key-providers" title="Permalink to this headline">¶</a></h4>
<p>Master key providers are resources that provide master keys.
An example of a master key provider is <a class="reference external" href="https://docs.aws.amazon.com/kms/latest/developerguide/overview.html">AWS KMS</a>.</p>
<p>To encrypt data in this client, a <code class="docutils literal notranslate"><span class="pre">MasterKeyProvider</span></code> object must contain at least one <code class="docutils literal notranslate"><span class="pre">MasterKey</span></code> object.</p>
<p><code class="docutils literal notranslate"><span class="pre">MasterKeyProvider</span></code> objects can also contain other <code class="docutils literal notranslate"><span class="pre">MasterKeyProvider</span></code> objects.</p>
</div>
<div class="section" id="master-keys">
<h4>Master Keys<a class="headerlink" href="#master-keys" title="Permalink to this headline">¶</a></h4>
<p>Master keys generate, encrypt, and decrypt data keys.
An example of a master key is a <a class="reference external" href="https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#master_keys">KMS customer master key (CMK)</a>.</p>
</div>
<div class="section" id="data-keys">
<h4>Data Keys<a class="headerlink" href="#data-keys" title="Permalink to this headline">¶</a></h4>
<p>Data keys are the encryption keys that are used to encrypt your data. If your algorithm suite
uses a key derivation function, the data key is used to generate the key that directly encrypts the data.</p>
</div>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>To use this client, you (the caller) must provide an instance of either a master key provider
or a CMM. The examples in this readme use the <code class="docutils literal notranslate"><span class="pre">KMSMasterKeyProvider</span></code> class.</p>
<div class="section" id="kmsmasterkeyprovider">
<h3>KMSMasterKeyProvider<a class="headerlink" href="#kmsmasterkeyprovider" title="Permalink to this headline">¶</a></h3>
<p>Because the <code class="docutils literal notranslate"><span class="pre">KMSMasterKeyProvider</span></code> uses the <a class="reference external" href="https://boto3.readthedocs.io/en/latest/">boto3 SDK</a> to interact with <a class="reference external" href="https://docs.aws.amazon.com/kms/latest/developerguide/overview.html">AWS KMS</a>, it requires AWS Credentials.
To provide these credentials, use the <a class="reference external" href="https://boto3.readthedocs.io/en/latest/guide/configuration.html">standard means by which boto3 locates credentials</a> or provide a
pre-existing instance of a <code class="docutils literal notranslate"><span class="pre">botocore</span> <span class="pre">session</span></code> to the <code class="docutils literal notranslate"><span class="pre">KMSMasterKeyProvider</span></code>.
This latter option can be useful if you have an alternate way to store your AWS credentials or
you want to reuse an existing instance of a botocore session in order to decrease startup costs.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aws_encryption_sdk</span>
<span class="kn">import</span> <span class="nn">botocore.session</span>

<span class="n">kms_key_provider</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">KMSMasterKeyProvider</span><span class="p">()</span>

<span class="n">existing_botocore_session</span> <span class="o">=</span> <span class="n">botocore</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="n">kms_key_provider</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">KMSMasterKeyProvider</span><span class="p">(</span><span class="n">botocore_session</span><span class="o">=</span><span class="n">existing_botocore_session</span><span class="p">)</span>
</pre></div>
</div>
<p>You can pre-load the <code class="docutils literal notranslate"><span class="pre">KMSMasterKeyProvider</span></code> with one or more CMKs.
To encrypt data, you must configure the <code class="docutils literal notranslate"><span class="pre">KMSMasterKeyProvider</span></code> with as least one CMK.
If you configure the the <code class="docutils literal notranslate"><span class="pre">KMSMasterKeyProvider</span></code> with multiple CMKs, the <a class="reference external" href="https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/message-format.html">final message</a>
will include a copy of the data key encrypted by each configured CMK.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aws_encryption_sdk</span>

<span class="n">kms_key_provider</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">KMSMasterKeyProvider</span><span class="p">(</span><span class="n">key_ids</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;arn:aws:kms:us-east-1:2222222222222:key/22222222-2222-2222-2222-222222222222&#39;</span><span class="p">,</span>
    <span class="s1">&#39;arn:aws:kms:us-east-1:3333333333333:key/33333333-3333-3333-3333-333333333333&#39;</span>
<span class="p">])</span>
</pre></div>
</div>
<p>You can add CMKs from multiple regions to the <code class="docutils literal notranslate"><span class="pre">KMSMasterKeyProvider</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aws_encryption_sdk</span>

<span class="n">kms_key_provider</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">KMSMasterKeyProvider</span><span class="p">(</span><span class="n">key_ids</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;arn:aws:kms:us-east-1:2222222222222:key/22222222-2222-2222-2222-222222222222&#39;</span><span class="p">,</span>
    <span class="s1">&#39;arn:aws:kms:us-west-2:3333333333333:key/33333333-3333-3333-3333-333333333333&#39;</span><span class="p">,</span>
    <span class="s1">&#39;arn:aws:kms:ap-northeast-1:4444444444444:key/44444444-4444-4444-4444-444444444444&#39;</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="encryption-and-decryption">
<h3>Encryption and Decryption<a class="headerlink" href="#encryption-and-decryption" title="Permalink to this headline">¶</a></h3>
<p>After you create an instance of a <code class="docutils literal notranslate"><span class="pre">MasterKeyProvider</span></code>, you can use either of the two
high-level <code class="docutils literal notranslate"><span class="pre">encrypt</span></code>/<code class="docutils literal notranslate"><span class="pre">decrypt</span></code> functions to encrypt and decrypt your data.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aws_encryption_sdk</span>

<span class="n">kms_key_provider</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">KMSMasterKeyProvider</span><span class="p">(</span><span class="n">key_ids</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;arn:aws:kms:us-east-1:2222222222222:key/22222222-2222-2222-2222-222222222222&#39;</span><span class="p">,</span>
    <span class="s1">&#39;arn:aws:kms:us-east-1:3333333333333:key/33333333-3333-3333-3333-333333333333&#39;</span>
<span class="p">])</span>
<span class="n">my_plaintext</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;This is some super secret data!  Yup, sure is!&#39;</span>

<span class="n">my_ciphertext</span><span class="p">,</span> <span class="n">encryptor_header</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">encrypt</span><span class="p">(</span>
    <span class="n">source</span><span class="o">=</span><span class="n">my_plaintext</span><span class="p">,</span>
    <span class="n">key_provider</span><span class="o">=</span><span class="n">kms_key_provider</span>
<span class="p">)</span>

<span class="n">decrypted_plaintext</span><span class="p">,</span> <span class="n">decryptor_header</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span>
    <span class="n">source</span><span class="o">=</span><span class="n">my_ciphertext</span><span class="p">,</span>
    <span class="n">key_provider</span><span class="o">=</span><span class="n">kms_key_provider</span>
<span class="p">)</span>

<span class="k">assert</span> <span class="n">my_plaintext</span> <span class="o">==</span> <span class="n">decrypted_plaintext</span>
<span class="k">assert</span> <span class="n">encryptor_header</span><span class="o">.</span><span class="n">encryption_context</span> <span class="o">==</span> <span class="n">decryptor_header</span><span class="o">.</span><span class="n">encryption_context</span>
</pre></div>
</div>
<p>You can provide an <a class="reference external" href="https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context">encryption context</a>: a form of additional authenticating information.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aws_encryption_sdk</span>

<span class="n">kms_key_provider</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">KMSMasterKeyProvider</span><span class="p">(</span><span class="n">key_ids</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;arn:aws:kms:us-east-1:2222222222222:key/22222222-2222-2222-2222-222222222222&#39;</span><span class="p">,</span>
    <span class="s1">&#39;arn:aws:kms:us-east-1:3333333333333:key/33333333-3333-3333-3333-333333333333&#39;</span>
<span class="p">])</span>
<span class="n">my_plaintext</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;This is some super secret data!  Yup, sure is!&#39;</span>

<span class="n">my_ciphertext</span><span class="p">,</span> <span class="n">encryptor_header</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">encrypt</span><span class="p">(</span>
    <span class="n">source</span><span class="o">=</span><span class="n">my_plaintext</span><span class="p">,</span>
    <span class="n">key_provider</span><span class="o">=</span><span class="n">kms_key_provider</span><span class="p">,</span>
    <span class="n">encryption_context</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;not really&#39;</span><span class="p">:</span> <span class="s1">&#39;a secret&#39;</span><span class="p">,</span>
        <span class="s1">&#39;but adds&#39;</span><span class="p">:</span> <span class="s1">&#39;some authentication&#39;</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="n">decrypted_plaintext</span><span class="p">,</span> <span class="n">decryptor_header</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span>
    <span class="n">source</span><span class="o">=</span><span class="n">my_ciphertext</span><span class="p">,</span>
    <span class="n">key_provider</span><span class="o">=</span><span class="n">kms_key_provider</span>
<span class="p">)</span>

<span class="k">assert</span> <span class="n">my_plaintext</span> <span class="o">==</span> <span class="n">decrypted_plaintext</span>
<span class="k">assert</span> <span class="n">encryptor_header</span><span class="o">.</span><span class="n">encryption_context</span> <span class="o">==</span> <span class="n">decryptor_header</span><span class="o">.</span><span class="n">encryption_context</span>
</pre></div>
</div>
</div>
<div class="section" id="streaming">
<h3>Streaming<a class="headerlink" href="#streaming" title="Permalink to this headline">¶</a></h3>
<p>If you are handling large files or simply do not want to put the entire plaintext or ciphertext in
memory at once, you can use this library’s streaming clients directly. The streaming clients are
file-like objects, and behave exactly as you would expect a Python file object to behave,
offering context manager and iteration support.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">aws_encryption_sdk</span>
<span class="kn">import</span> <span class="nn">filecmp</span>

<span class="n">kms_key_provider</span> <span class="o">=</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">KMSMasterKeyProvider</span><span class="p">(</span><span class="n">key_ids</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;arn:aws:kms:us-east-1:2222222222222:key/22222222-2222-2222-2222-222222222222&#39;</span><span class="p">,</span>
    <span class="s1">&#39;arn:aws:kms:us-east-1:3333333333333:key/33333333-3333-3333-3333-333333333333&#39;</span>
<span class="p">])</span>
<span class="n">plaintext_filename</span> <span class="o">=</span> <span class="s1">&#39;my-secret-data.dat&#39;</span>
<span class="n">ciphertext_filename</span> <span class="o">=</span> <span class="s1">&#39;my-encrypted-data.ct&#39;</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">plaintext_filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">pt_file</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="n">ciphertext_filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ct_file</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span>
        <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">,</span>
        <span class="n">source</span><span class="o">=</span><span class="n">pt_file</span><span class="p">,</span>
        <span class="n">key_provider</span><span class="o">=</span><span class="n">kms_key_provider</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">encryptor</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">encryptor</span><span class="p">:</span>
            <span class="n">ct_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>

<span class="n">new_plaintext_filename</span> <span class="o">=</span> <span class="s1">&#39;my-decrypted-data.dat&#39;</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">ciphertext_filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ct_file</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="n">new_plaintext_filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">pt_file</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">aws_encryption_sdk</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span>
        <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span>
        <span class="n">source</span><span class="o">=</span><span class="n">ct_file</span><span class="p">,</span>
        <span class="n">key_provider</span><span class="o">=</span><span class="n">kms_key_provider</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">decryptor</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">decryptor</span><span class="p">:</span>
            <span class="n">pt_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>

<span class="k">assert</span> <span class="n">filecmp</span><span class="o">.</span><span class="n">cmp</span><span class="p">(</span><span class="n">plaintext_filename</span><span class="p">,</span> <span class="n">new_plaintext_filename</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">encryptor</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">encryption_context</span> <span class="o">==</span> <span class="n">decryptor</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">encryption_context</span>
</pre></div>
</div>
</div>
<div class="section" id="performance-considerations">
<h3>Performance Considerations<a class="headerlink" href="#performance-considerations" title="Permalink to this headline">¶</a></h3>
<p>Adjusting the frame size can significantly improve the performance of encrypt/decrypt operations with this library.</p>
<p>Processing each frame in a framed message involves a certain amount of overhead.  If you are encrypting a large file,
increasing the frame size can offer potentially significant performance gains.  We recommend that you tune these values
to your use-case in order to obtain peak performance.</p>
</div>
</div>
<div class="section" id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.html#module-aws_encryption_sdk" title="aws_encryption_sdk"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk</span></code></a></p></td>
<td><p>High level AWS Encryption SDK client functions.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.exceptions.html#module-aws_encryption_sdk.exceptions" title="aws_encryption_sdk.exceptions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.exceptions</span></code></a></p></td>
<td><p>Contains exception classes for AWS Encryption SDK.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.identifiers.html#module-aws_encryption_sdk.identifiers" title="aws_encryption_sdk.identifiers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.identifiers</span></code></a></p></td>
<td><p>AWS Encryption SDK native data structures for defining implementation-specific characteristics.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.caches.html#module-aws_encryption_sdk.caches" title="aws_encryption_sdk.caches"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.caches</span></code></a></p></td>
<td><p>Common functions and structures for use in cryptographic materials caches.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.caches.base.html#module-aws_encryption_sdk.caches.base" title="aws_encryption_sdk.caches.base"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.caches.base</span></code></a></p></td>
<td><p>Base class interface for caches for use with caching crypto material managers.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.caches.local.html#module-aws_encryption_sdk.caches.local" title="aws_encryption_sdk.caches.local"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.caches.local</span></code></a></p></td>
<td><p>Local, in-memory, LRU, cryptographic materials cache for use with caching cryptographic materials providers.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.caches.null.html#module-aws_encryption_sdk.caches.null" title="aws_encryption_sdk.caches.null"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.caches.null</span></code></a></p></td>
<td><p>Null cache: a cache which does not cache.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.key_providers.base.html#module-aws_encryption_sdk.key_providers.base" title="aws_encryption_sdk.key_providers.base"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.key_providers.base</span></code></a></p></td>
<td><p>Base class interface for Master Key Providers.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.key_providers.kms.html#module-aws_encryption_sdk.key_providers.kms" title="aws_encryption_sdk.key_providers.kms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.key_providers.kms</span></code></a></p></td>
<td><p>Master Key Providers for use with AWS KMS</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.key_providers.raw.html#module-aws_encryption_sdk.key_providers.raw" title="aws_encryption_sdk.key_providers.raw"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.key_providers.raw</span></code></a></p></td>
<td><p>Resources required for Raw Master Keys.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.materials_managers.html#module-aws_encryption_sdk.materials_managers" title="aws_encryption_sdk.materials_managers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.materials_managers</span></code></a></p></td>
<td><p>Primitive structures for use when interacting with crypto material managers.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.materials_managers.base.html#module-aws_encryption_sdk.materials_managers.base" title="aws_encryption_sdk.materials_managers.base"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.materials_managers.base</span></code></a></p></td>
<td><p>Base class interface for crypto material managers.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.materials_managers.caching.html#module-aws_encryption_sdk.materials_managers.caching" title="aws_encryption_sdk.materials_managers.caching"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.materials_managers.caching</span></code></a></p></td>
<td><p>Caching crypto material manager.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.materials_managers.default.html#module-aws_encryption_sdk.materials_managers.default" title="aws_encryption_sdk.materials_managers.default"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.materials_managers.default</span></code></a></p></td>
<td><p>Default crypto material manager class.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.streaming_client.html#module-aws_encryption_sdk.streaming_client" title="aws_encryption_sdk.streaming_client"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.streaming_client</span></code></a></p></td>
<td><p>High level AWS Encryption SDK client for streaming objects.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.structures.html#module-aws_encryption_sdk.structures" title="aws_encryption_sdk.structures"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.structures</span></code></a></p></td>
<td><p>Public data structures for aws_encryption_sdk.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.internal.html#module-aws_encryption_sdk.internal" title="aws_encryption_sdk.internal"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.internal</span></code></a></p></td>
<td><p>Internal Implementation Details</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.internal.crypto.authentication.html#module-aws_encryption_sdk.internal.crypto.authentication" title="aws_encryption_sdk.internal.crypto.authentication"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.internal.crypto.authentication</span></code></a></p></td>
<td><p>Contains authentication primitives.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.internal.crypto.data_keys.html#module-aws_encryption_sdk.internal.crypto.data_keys" title="aws_encryption_sdk.internal.crypto.data_keys"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.internal.crypto.data_keys</span></code></a></p></td>
<td><p>Contains data key helper functions.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.internal.crypto.elliptic_curve.html#module-aws_encryption_sdk.internal.crypto.elliptic_curve" title="aws_encryption_sdk.internal.crypto.elliptic_curve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.internal.crypto.elliptic_curve</span></code></a></p></td>
<td><p>Contains elliptic curve functionality.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.internal.crypto.encryption.html#module-aws_encryption_sdk.internal.crypto.encryption" title="aws_encryption_sdk.internal.crypto.encryption"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.internal.crypto.encryption</span></code></a></p></td>
<td><p>Contains encryption primitives and helper functions.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.internal.crypto.iv.html#module-aws_encryption_sdk.internal.crypto.iv" title="aws_encryption_sdk.internal.crypto.iv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.internal.crypto.iv</span></code></a></p></td>
<td><p>Helper functions used for generating deterministic initialization vectors (IVs).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.internal.crypto.wrapping_keys.html#module-aws_encryption_sdk.internal.crypto.wrapping_keys" title="aws_encryption_sdk.internal.crypto.wrapping_keys"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.internal.crypto.wrapping_keys</span></code></a></p></td>
<td><p>Contains wrapping key primitives.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.internal.defaults.html#module-aws_encryption_sdk.internal.defaults" title="aws_encryption_sdk.internal.defaults"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.internal.defaults</span></code></a></p></td>
<td><p>Default values for AWS Encryption SDK.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.internal.formatting.html#module-aws_encryption_sdk.internal.formatting" title="aws_encryption_sdk.internal.formatting"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.internal.formatting</span></code></a></p></td>
<td><p>Formatting functions for aws_encryption_sdk.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.internal.formatting.deserialize.html#module-aws_encryption_sdk.internal.formatting.deserialize" title="aws_encryption_sdk.internal.formatting.deserialize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.internal.formatting.deserialize</span></code></a></p></td>
<td><p>Components for handling AWS Encryption SDK message deserialization.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.internal.formatting.encryption_context.html#module-aws_encryption_sdk.internal.formatting.encryption_context" title="aws_encryption_sdk.internal.formatting.encryption_context"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.internal.formatting.encryption_context</span></code></a></p></td>
<td><p>Components for handling serialization and deserialization of encryption context data in AWS Encryption SDK messages.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.internal.formatting.serialize.html#module-aws_encryption_sdk.internal.formatting.serialize" title="aws_encryption_sdk.internal.formatting.serialize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.internal.formatting.serialize</span></code></a></p></td>
<td><p>Components for handling AWS Encryption SDK message serialization.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.internal.str_ops.html#module-aws_encryption_sdk.internal.str_ops" title="aws_encryption_sdk.internal.str_ops"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.internal.str_ops</span></code></a></p></td>
<td><p>Helper functions for consistently obtaining str and bytes objects in both Python2 and Python3.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.internal.structures.html#module-aws_encryption_sdk.internal.structures" title="aws_encryption_sdk.internal.structures"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.internal.structures</span></code></a></p></td>
<td><p>Public data structures for aws_encryption_sdk.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/aws_encryption_sdk.internal.utils.html#module-aws_encryption_sdk.internal.utils" title="aws_encryption_sdk.internal.utils"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aws_encryption_sdk.internal.utils</span></code></a></p></td>
<td><p>Helper utility functions for AWS Encryption SDK.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="changelog">
<h2>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3>1.4.1 – 2019-09-20<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="section" id="bugfixes">
<h4>Bugfixes<a class="headerlink" href="#bugfixes" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Fix region configuration override in botocore sessions.
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/190">#190</a>
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/pull/193">#193</a></p></li>
</ul>
</div>
<div class="section" id="minor">
<h4>Minor<a class="headerlink" href="#minor" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Caching CMM must require that max age configuration value is greater than 0.
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/147">#147</a>
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/pull/172">#172</a></p></li>
</ul>
</div>
</div>
<div class="section" id="id7">
<h3>1.4.0 – 2019-05-23<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id8">
<h4>Minor<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Remove dependence on all <code class="docutils literal notranslate"><span class="pre">source_stream</span></code> APIs except for <code class="docutils literal notranslate"><span class="pre">read()</span></code>.
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/103">#103</a></p></li>
</ul>
<div class="section" id="potentially-backwards-incompatible">
<h5>Potentially Backwards Incompatible<a class="headerlink" href="#potentially-backwards-incompatible" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>Encryption streams no longer close the <code class="docutils literal notranslate"><span class="pre">source_stream</span></code> when they themselves close.
If you are using context managers for all of your stream handling,
this change will not affect you.
However, if you have been relying on the <code class="docutils literal notranslate"><span class="pre">StreamDecryptor</span></code>
or <code class="docutils literal notranslate"><span class="pre">StreamEncryptor</span></code> to close your <code class="docutils literal notranslate"><span class="pre">source_stream</span></code> for you,
you will now need to close those streams yourself.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StreamDecryptor.body_start</span></code> and <code class="docutils literal notranslate"><span class="pre">StreamDecryptor.body_end</span></code>,
deprecated in a prior release,
have now been removed.</p></li>
</ul>
</div>
</div>
<div class="section" id="maintenance">
<h4>Maintenance<a class="headerlink" href="#maintenance" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Move all remaining <code class="docutils literal notranslate"><span class="pre">unittest</span></code> tests to <code class="docutils literal notranslate"><span class="pre">pytest</span></code>.
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/99">#99</a></p></li>
</ul>
</div>
<div class="section" id="id11">
<h4>Bugfixes<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">MasterKeyprovider.decrypt_data_key_from_list</span></code> error handling.
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/150">#150</a></p></li>
</ul>
</div>
</div>
<div class="section" id="id13">
<h3>1.3.8 – 2018-11-15<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id14">
<h4>Bugfixes<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Remove debug logging that may contain input data when encrypting non-default unframed messages.
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/pull/105">#105</a></p></li>
</ul>
</div>
<div class="section" id="id16">
<h4>Minor<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Add support to remove clients from <code class="xref py py-class docutils literal notranslate"><span class="pre">KMSMasterKeyProvider</span></code> client cache if they fail to connect to endpoint.
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/pull/86">#86</a></p></li>
<li><p>Add support for SHA384 and SHA512 for use with RSA OAEP wrapping algorithms.
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/56">#56</a></p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">streaming_client</span></code> classes to properly interpret short reads in source streams.
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/24">#24</a></p></li>
</ul>
</div>
</div>
<div class="section" id="id20">
<h3>1.3.7 – 2018-09-20<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id21">
<h4>Bugfixes<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Fix KMSMasterKeyProvider to determine the default region before trying to create the requested master keys.
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/83">#83</a></p></li>
</ul>
</div>
</div>
<div class="section" id="id23">
<h3>1.3.6 – 2018-09-04<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id24">
<h4>Bugfixes<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">StreamEncryptor</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">StreamDecryptor</span></code> should always report as readable if they are open.
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/73">#73</a></p></li>
<li><p>Allow duck-typing of source streams.
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/75">#75</a></p></li>
</ul>
</div>
</div>
<div class="section" id="id27">
<h3>1.3.5 – 2018-08-01<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Move the <code class="docutils literal notranslate"><span class="pre">aws-encryption-sdk-python</span></code> repository from <code class="docutils literal notranslate"><span class="pre">awslabs</span></code> to <code class="docutils literal notranslate"><span class="pre">aws</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id28">
<h3>1.3.4 – 2018-04-12<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id29">
<h4>Bugfixes<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>AWS KMS master key/provider user agent extension fixed.
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/pull/47">#47</a></p></li>
</ul>
</div>
<div class="section" id="id31">
<h4>Maintenance<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>New minimum pytest version 3.3.1 to avoid bugs in 3.3.0
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/32">#32</a></p></li>
<li><p>New minimum attrs version 17.4.0 to allow use of <code class="docutils literal notranslate"><span class="pre">converter</span></code> rather than <code class="docutils literal notranslate"><span class="pre">convert</span></code>
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/39">#39</a></p></li>
<li><p>Algorithm Suites are modeled as collections of sub-suites now
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/pull/36">#36</a></p></li>
<li><p>Selecting test suites is more sane now, with pytest markers.
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/pull/41">#41</a></p></li>
</ul>
</div>
</div>
<div class="section" id="id36">
<h3>1.3.3 – 2017-12-05<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id37">
<h4>Bugfixes<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Remove use of attrs functionality deprecated in 17.3.0
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/29">#29</a></p></li>
</ul>
</div>
<div class="section" id="id39">
<h4>Maintenance<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Blacklisted pytest 3.3.0
<a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/32">#32</a>
<a class="reference external" href="https://github.com/pytest-dev/pytest/issues/2957">pytest-dev/pytest#2957</a></p></li>
</ul>
</div>
</div>
<div class="section" id="id41">
<h3>1.3.2 – 2017-09-28<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Addressed <a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/13">issue #13</a>
to properly handle non-seekable source streams.</p></li>
</ul>
</div>
<div class="section" id="id42">
<h3>1.3.1 – 2017-09-12<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h3>
<div class="section" id="reorganization">
<h4>Reorganization<a class="headerlink" href="#reorganization" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Moved source into <code class="docutils literal notranslate"><span class="pre">src</span></code>.</p></li>
<li><p>Moved examples into <code class="docutils literal notranslate"><span class="pre">examples</span></code>.</p></li>
<li><p>Broke out <code class="docutils literal notranslate"><span class="pre">internal.crypto</span></code> into smaller, feature-oriented, modules.</p></li>
</ul>
</div>
<div class="section" id="tooling">
<h4>Tooling<a class="headerlink" href="#tooling" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Added <a class="reference external" href="https://tox.readthedocs.io/en/latest/">tox</a> configuration to support automation and development tooling.</p></li>
<li><p>Added <a class="reference external" href="https://www.pylint.org/">pylint</a>, <a class="reference external" href="http://flake8.pycqa.org/en/latest/">flake8</a>, and <a class="reference external" href="https://launchpad.net/doc8">doc8</a> configuration to enforce style rules.</p></li>
</ul>
</div>
<div class="section" id="id43">
<h4>Maintenance<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Updated <code class="docutils literal notranslate"><span class="pre">internal.crypto.authentication.Verifier</span></code> to use <code class="docutils literal notranslate"><span class="pre">Prehashed</span></code>.</p></li>
<li><p>Addressed <a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/7">docstring issue #7</a>.</p></li>
<li><p>Addressed <a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/8">docstring issue #8</a>.</p></li>
<li><p>Addressed <a class="reference external" href="https://github.com/aws/aws-encryption-sdk-python/issues/10">logging issue #10</a>.</p></li>
<li><p>Addressed assorted linting issues to bring source, tests, examples, and docs up to configured
linting standards.</p></li>
</ul>
</div>
</div>
<div class="section" id="id44">
<h3>1.3.0 – 2017-08-04<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h3>
<div class="section" id="major">
<h4>Major<a class="headerlink" href="#major" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Added cryptographic materials managers as a concept</p></li>
<li><p>Added data key caching</p></li>
<li><p>Moved to deterministic IV generation</p></li>
</ul>
</div>
<div class="section" id="id45">
<h4>Minor<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Added changelog</p></li>
<li><p>Fixed attrs usage to provide consistent behavior with 16.3.0 and 17.x</p></li>
<li><p>Fixed performance bug which caused KDF calculations to be performed too frequently</p></li>
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">line_length</span></code> as a configurable parameter of <code class="docutils literal notranslate"><span class="pre">EncryptingStream</span></code> and
<code class="docutils literal notranslate"><span class="pre">DecryptingStream</span></code> objects to simplify class APIs after it was found in further
testing to have no measurable impact on performance</p></li>
<li><p>Added deterministic length eliptic curve signature generation</p></li>
<li><p>Added support for calculating ciphertext message length from header</p></li>
<li><p>Migrated README from md to rst</p></li>
</ul>
</div>
</div>
<div class="section" id="id46">
<h3>1.2.2 – 2017-05-23<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">attrs</span></code> version to 16.3.0 to avoid <a class="reference external" href="https://attrs.readthedocs.io/en/stable/changelog.html">breaking changes in attrs 17.1.0</a></p></li>
</ul>
</div>
<div class="section" id="id47">
<h3>1.2.0 – 2017-03-21<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Initial public release</p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="generated/aws_encryption_sdk.html" class="btn btn-neutral float-right" title="aws_encryption_sdk" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Amazon

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>