(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{1828:function(e,t,n){"use strict";n.r(t);var a=n(102),o=n(548),s=n(1795),r=n(54),l=n(0),i=n(3),c=n.n(i),p=n(83),d=n(1228),h=n.n(d),m=n(68),u=n(547),f=n(229),E=n(1253),g=n(4),v=n.n(g),b=n(784),y=n(43),C=n(252),j=n(590),R=n(597),x=n(162),w=n(96);const O=y.c.div`
  margin-top: 2rem;
  padding-left: 2rem;
  padding-right: 2rem;
`;const T=Object(p.b)((e,t)=>{const{contentRef:n,appBase:o}=t;return e=>{const s=a.r.content(e,t),r=[],l=a.r.currentHost(e);if("jupyter"!==l.type)throw new Error("This component only works with jupyter servers");if(!s||"directory"!==s.type)throw new Error("The directory component should only be used with directory contents");return s.model.items.map(t=>{const n=a.r.content(e,{contentRef:t});return n?"dummy"!==n.type?null:void r.push({last_modified:n.lastSaved,name:n.filepath,path:n.filepath,type:n.assumedType}):{last_modified:new Date,name:"",path:"",type:""}}),{appBase:o,appVersion:a.r.appVersion(e),content:s,contentRef:n,contents:r,host:l}}})(class extends l.PureComponent{constructor(){super(...arguments),this.openNotebook=e=>{!function(e,t,n){const o=a.r.serverConfig(e),s={cells:[{cell_type:"code",execution_count:null,metadata:{},outputs:[],source:[""]}],metadata:{kernelspec:{display_name:t.displayName,language:t.language,name:t.name},nteract:{version:n.appVersion}},nbformat:4,nbformat_minor:2};C.contents.create(o,n.baseDir,{type:"notebook"}).pipe(Object(R.a)(),Object(x.a)(({response:e})=>{const n=e.path,a={kernel:{id:null,name:t.name},name:"",path:n,type:"notebook"};return Object(j.a)(C.sessions.create(o,a),C.contents.save(o,n,{content:s,type:"notebook"}))}),Object(R.a)(),Object(w.a)(([e,t])=>{const{response:a}=t;if(t.status>299||"string"==typeof a){const e=["Failed to create notebook due to: "];return"string"==typeof a?e.push(a):e.push(JSON.stringify(a)),void alert(e.join(""))}const o=v()(n.appBase,a.path);null===window.open(o,"_blank")&&(window.location.href=o)})).subscribe()}(this.props.host,e,{appBase:this.props.appBase,appVersion:this.props.appVersion,baseDir:this.props.content.filepath})}}render(){const e="/"===this.props.content.filepath,t=v()(this.props.appBase,v()(this.props.content.filepath,"..")),n=l.createElement("a",{href:t,title:"Navigate down a directory",role:"button"},"..");return l.createElement(l.Fragment,null,l.createElement(u.b,{onClick:this.openNotebook}),l.createElement(O,null,l.createElement(b.d,null,e?null:l.createElement(b.a,null,l.createElement(b.b,{fileType:"directory"}),l.createElement(b.e,null,n),l.createElement(b.c,{lastModified:null})),this.props.contents.map((e,t)=>{const n=l.createElement("a",{href:v()(this.props.appBase,e.path),target:"notebook"===e.type?"_blank":void 0},e.name);return l.createElement(b.a,{key:t},l.createElement(b.b,{fileType:e.type}),l.createElement(b.e,null,n),l.createElement(b.c,{lastModified:e.last_modified}))}))))}});const L=e=>null;var k=Object(p.b)(null,(e,t)=>{return e=>({addTransform:t=>e(a.a.addTransform({mediaType:t.MIMETYPE,component:t}))})})(class extends l.PureComponent{constructor(e){super(e),this.state={App:L}}loadApp(){n.e(11).then(n.bind(null,1805)).then(e=>{this.setState({App:e.default})})}loadTransforms(){n.e(12).then(n.bind(null,1806)).then(e=>{this.props.addTransform(e.default),this.props.addTransform(e.PlotlyNullTransform)}),Promise.all([n.e(0),n.e(1),n.e(3),n.e(13),n.e(8)]).then(n.bind(null,1827)).then(e=>{this.props.addTransform(e.default)}),n.e(6).then(n.bind(null,1809)).then(e=>{this.props.addTransform(e.WidgetDisplay)}),n.e(77).then(n.bind(null,1810)).then(e=>{this.props.addTransform(e.default)}),n.e(9).then(n.bind(null,1829)).then(e=>{this.props.addTransform(e.VegaLite1),this.props.addTransform(e.VegaLite2),this.props.addTransform(e.VegaLite3),this.props.addTransform(e.Vega2),this.props.addTransform(e.Vega3),this.props.addTransform(e.Vega4),this.props.addTransform(e.Vega5)})}componentDidMount(){this.loadApp(),this.loadTransforms()}render(){const e=this.state.App;return l.createElement(e,{contentRef:this.props.contentRef})}});const N=y.c.div`
  position: absolute;
  left: 0;
  height: 100%;
  width: 100%;

  .monaco {
    height: 100%;
  }
`;class _ extends l.PureComponent{render(){return null}}var S=Object(p.b)((function(e,t){const{contentRef:n}=t;return e=>{const t=a.r.content(e,{contentRef:n});if(!t||"file"!==t.type)throw new Error("The text file component must have content");const o=t.model?t.model.text:"";return{contentRef:n,mimetype:null!=t.mimetype?t.mimetype:"text/plain",text:o,theme:a.r.currentTheme(e)}}}),(e,t)=>{const{contentRef:n}=t;return e=>({handleChange:t=>{e(a.a.updateFileText({contentRef:n,text:t}))}})})(class extends l.PureComponent{constructor(e){super(e),this.handleChange=e=>{this.props.handleChange(e)},this.state={Editor:_}}componentDidMount(){Promise.all([n.e(10),n.e(7)]).then(n.bind(null,1811)).then(e=>{this.setState({Editor:e.default})})}render(){const e=this.state.Editor;return l.createElement(N,{className:"nteract-editor"},l.createElement(e,{theme:"dark"===this.props.theme?"vs-dark":"vs",mode:this.props.mimetype,editorFocused:!0,value:this.props.text,onChange:this.handleChange.bind(this)}))}});const P=y.c.div`
  padding-left: var(--nt-spacing-l, 10px);
  padding-top: var(--nt-spacing-m, 10px);
  padding-right: var(--nt-spacing-m, 10px);
`,M=y.c.div`
  display: flex;
  flex-flow: column;
  align-items: stretch;
  height: -webkit-fill-available;
`,A=y.c.div`
  flex: 1 1 auto;
  overflow: auto;
`;var V=Object(p.b)((e,t)=>{const{contentRef:n,appBase:o}=t;return e=>{const s=a.r.content(e,t);if(!s||"directory"===s.type)throw new Error("The file component should only be used with files and notebooks");return{appBase:o,contentRef:n,baseDir:Object(f.dirname)(s.filepath),displayName:s.filepath.split("/").pop(),lastSavedStatement:"recently",mimetype:s.mimetype,type:s.type}}})(class extends l.PureComponent{constructor(){super(...arguments),this.getChoice=()=>{let e=null;return e="notebook"===this.props.type?l.createElement(k,{contentRef:this.props.contentRef}):"dummy"===this.props.type?null:null!=this.props.mimetype&&function(e){return e.startsWith("text/")||e.startsWith("application/javascript")||e.startsWith("application/json")}(this.props.mimetype)?l.createElement(S,{contentRef:this.props.contentRef}):l.createElement(P,null,l.createElement("pre",null,"Can not render this file type"))}}render(){const e=this.getChoice();return l.createElement(l.Fragment,null,l.createElement(M,null,l.createElement(A,null,e)))}}),B=n(1236),D=n(1259),F=n(393),H=n(1797),K=n(1831),I=n(646),z=n(1830),U=n(391);const W=Object(y.c)(F.a)`
  cursor: pointer;
`;class $ extends l.PureComponent{constructor(){super(...arguments),this.state={value:this.props.defaultValue||""},this.handleChange=e=>this.setState({value:e}),this.handleClose=()=>this.props.onCancel(!0),this.handleSave=()=>this.props.onSave(this.state.value)}render(){return l.createElement(H.a,{canEscapeKeyClose:!0,canOutsideClickClose:!0,usePortal:!1,isOpen:this.props.isOpen,onClose:this.handleClose},l.createElement("div",{className:"bp3-dialog-container"},l.createElement("div",{className:"bp3-dialog"},l.createElement("div",{className:"bp3-dialog-header"},l.createElement("h4",{className:"bp3-heading"},"Rename Notebook"),l.createElement(W,{icon:"small-cross",onClick:this.handleClose})),l.createElement("div",{className:"bp3-dialog-body"},l.createElement(B.d,null,"Enter a new notebook name:"),l.createElement(K.a,{className:I.a.INPUT,disabled:!1,defaultValue:this.props.defaultValue,minWidth:500,intent:"none",selectAllOnFocus:!0,confirmOnEnterKey:!0,onChange:this.handleChange,onConfirm:this.handleSave})),l.createElement("div",{className:"bp3-dialog-footer"},l.createElement("div",{className:"bp3-dialog-footer-actions"},l.createElement(z.a,{onClick:this.handleClose},"Cancel"),l.createElement(z.a,{intent:U.a.PRIMARY,onClick:this.handleSave},"Save"))))))}}var Y=Object(p.b)((e,t)=>{const{contentRef:n}=t;return e=>{const t=a.r.contentByRef(e).get(n);return t&&t.lastSaved?{lastModified:t.lastSaved}:{lastModified:null}}})(b.c);const J=y.c.ul`
  display: flex;
  justify-content: space-between;
  padding: 10px 20px;
  margin: 0 auto;
  width: 100%;
`,X=y.c.li`
  display: flex;
  box-sizing: border-box;
  padding: 0px 0px;

  /* 
   * When we have a nav section that ends up on the right, 
   * reverse the padding order 
   */
  :not(:first-child):last-child > :global(ul > li) {
    margin: 0px 0px 0px var(--nt-spacing-xl);
  }
`,q=y.c.ul`
  margin: 0 auto;
  padding: 0px 0px;
  display: flex;
  justify-content: space-between;
`,G=y.c.li`
  display: flex;
  padding: 0px 0px;
  margin: 0px var(--nt-spacing-xl) 0px 0px;
`,Q=y.c.div`
  background-color: hsl(0, 0%, 94%);
  box-sizing: border-box;
`,Z=e=>l.createElement(q,null,l.Children.map(e.children,e=>null===e?null:l.createElement(G,{className:"nav-item"},e))),ee=e=>l.createElement(Q,null,l.createElement(J,null,l.Children.map(e.children,e=>l.createElement(X,null,e))));const te=e=>l.createElement("svg",{"data-name":"Ebene 1",xmlns:"http://www.w3.org/2000/svg",height:31,width:100,viewBox:"0 0 250 80"},l.createElement("path",{d:"M17.86 20.8a1.46 1.46 0 0 1 1.5-1.5h12.25c12.2 0 20.55 8.92 20.55 20.14s-8.35 20.14-20.6 20.14h-12.2a1.5 1.5 0 0 1-1.5-1.58zm13.75 36c10.48 0 17.5-7.65 17.5-17.32s-7-17.38-17.5-17.38H20.85v34.7zM82.94 19.53a1.58 1.58 0 0 1 1.26-.63 1.5 1.5 0 0 1 1.5 1.55v38a1.5 1.5 0 1 1-3 0V48H69.82a1.32 1.32 0 0 1-1.38-1.38 1.36 1.36 0 0 1 1.38-1.38h12.89V24.19L53.19 59.41a1.56 1.56 0 0 1-1.09.59 1.46 1.46 0 0 1-1.44-1.44 1.41 1.41 0 0 1 .4-1zM102.56 22.06h-10.3a1.4 1.4 0 0 1-1.38-1.38 1.36 1.36 0 0 1 1.38-1.38h23.59a1.36 1.36 0 0 1 1.38 1.38 1.4 1.4 0 0 1-1.38 1.38h-10.3v36.37a1.5 1.5 0 1 1-3 0zM142.15 19.53a1.58 1.58 0 0 1 1.26-.63 1.5 1.5 0 0 1 1.5 1.55v38a1.5 1.5 0 1 1-3 0V48H129a1.32 1.32 0 0 1-1.38-1.38 1.36 1.36 0 0 1 1.38-1.37h12.89V24.19L112.4 59.41a1.57 1.57 0 0 1-1.1.57 1.46 1.46 0 0 1-1.43-1.44 1.41 1.41 0 0 1 .4-1zM152.73 22.18a3.4 3.4 0 1 1 6.79 0v31.07h12.14a3.11 3.11 0 0 1 3.11 3.17 3.14 3.14 0 0 1-3.11 3.16h-15.53a3.44 3.44 0 0 1-3.4-3.39zM206.59 20.11a3.59 3.59 0 0 1 2.76-1.33 3.36 3.36 0 0 1 3.34 3.4V56.7a3.37 3.37 0 1 1-6.73 0v-5.58h-7.83A3.12 3.12 0 0 1 195 48a3.16 3.16 0 0 1 3.16-3.17H206v-14L182.37 59a3.74 3.74 0 0 1-2.48 1.15 3.2 3.2 0 0 1-2.42-5.24zM220.05 22.64a3.4 3.4 0 0 1 3.4-3.34h10.24a11.18 11.18 0 0 1 11.39 11.16 8.87 8.87 0 0 1-5.75 8.64 9.43 9.43 0 0 1 6.33 9.2 11.31 11.31 0 0 1-11.51 11.28h-10.7a3.44 3.44 0 0 1-3.4-3.39zm13.07 30.61a5.34 5.34 0 0 0 5.58-5.41 5.41 5.41 0 0 0-5.41-5.41h-1.44a3.14 3.14 0 1 1 0-6.27h1a5.3 5.3 0 1 0-.17-10.59h-5.82v27.68z"}));te.defaultProps={height:20,theme:"light"};const ne=e=>l.createElement(ee,null,l.createElement(Z,null,e.appBase?l.createElement("a",{href:v()(e.appBase),role:"button",title:"Home"},l.createElement(te,null)):null));class ae extends l.PureComponent{constructor(e){super(e),this.getFileHandlerIcon=()=>this.props.saving?l.createElement(D.c,null):this.props.error?l.createElement(D.a,null):this.props.loading?l.createElement(D.b,null):"",this.getFileExtension=e=>{const t=/[.]/.exec(e),n=/[^.]+$/.exec(e);return t&&n?n[0]:void 0},this.addFileExtension=e=>{const{displayName:t}=this.props,n=this.getFileExtension(e),a=this.getFileExtension(t);return n?e:a?`${e}.${a}`:`${e}.ipynb`},this.openDialog=()=>this.setState({isDialogOpen:!0}),this.closeDialog=()=>this.setState({isDialogOpen:!1}),this.confirmTitle=e=>{e!==this.props.displayName&&this.props.changeContentName({contentRef:this.props.contentRef,filepath:`/${e?this.addFileExtension(e):""}`,prevFilePath:`/${this.props.displayName}`}),this.setState({isDialogOpen:!1})},this.state={isDialogOpen:!1}}render(){const e=v()(this.props.appBase,this.props.baseDir),t=this.getFileHandlerIcon();return l.createElement(l.Fragment,null,l.createElement(ee,null,l.createElement(Z,null,l.createElement("a",{href:e,role:"button",title:"Home"},l.createElement(te,null)),l.createElement("div",null,l.createElement(B.b,{onClick:this.openDialog,style:{lineHeight:"31px"}},this.props.displayName),l.createElement($,{defaultValue:this.props.displayName,isOpen:this.state.isDialogOpen,onCancel:this.closeDialog,onSave:this.confirmTitle}))),l.createElement(Z,null,l.createElement("span",{className:"icon"},t),l.createElement(Y,{contentRef:this.props.contentRef}))),this.props.children)}}ae.defaultProps={children:null};const oe=Object(p.b)(null,e=>({changeContentName:t=>e(m.changeContentName(t))}))(ae);var se=Object(p.b)((e,t)=>{const n=e.app.host;if("jupyter"!==n.type)throw new Error("this component only works with jupyter apps");const o=v()(n.basePath,"/datalab/edit");return e=>{const n=t.contentRef;if(!n)throw new Error("cant display without a contentRef");const s=a.r.content(e,{contentRef:n});if(!s)throw new Error("need content to view content, check your contentRefs");let r=!1,l={authors:[],description:"",tags:[],title:""};if("notebook"===s.type){const e=s.model.get("notebook").metadata.toJS(),{authors:t=[],description:n="",tags:a=[],title:o=""}=e;r=s.showHeaderEditor,l=Object.assign({},l,{authors:t,description:n,tags:a,title:o})}return{appBase:o,baseDir:Object(f.dirname)(s.filepath),contentRef:n,contentType:s.type,displayName:s.filepath.split("/").pop()||"",error:s.error,filepath:s.filepath,headerData:l,lastSavedStatement:"recently",loading:s.loading,mimetype:s.mimetype,saving:s.saving,showHeaderEditor:r}}},(e,t)=>{const{appBase:n,contentRef:a}=t;return{onHeaderEditorChange:n=>e(m.overwriteMetadataFields(Object.assign(Object.assign({},n),{contentRef:t.contentRef}))),handlers:{CHANGE_CELL_TYPE:t=>{const n="Y"===t.key?"code":"markdown";return e(m.changeCellType({to:n,contentRef:a}))},COPY_CELL:()=>e(m.copyCell({contentRef:a})),CREATE_CELL_ABOVE:()=>e(m.createCellAbove({cellType:"code",contentRef:a})),CREATE_CELL_BELOW:()=>e(m.createCellBelow({cellType:"code",source:"",contentRef:a})),CUT_CELL:()=>e(m.cutCell({contentRef:a})),DELETE_CELL:()=>e(m.deleteCell({contentRef:a})),EXECUTE_ALL_CELLS:()=>e(m.executeAllCells({contentRef:a})),INTERRUPT_KERNEL:()=>e(m.interruptKernel({})),KILL_KERNEL:()=>e(m.killKernel({restarting:!1})),OPEN:()=>{const e=n?v()(n,"/datalab/edit"):"/datalab/edit";window.open(e,"_blank")},PASTE_CELL:()=>e(m.pasteCell({contentRef:a})),RESTART_KERNEL:t=>{const n="r"===t.key?"None":"a"===t.key?"Run All":"Clear All";return e(m.restartKernel({outputHandling:n,contentRef:a}))},SAVE:()=>e(m.save({contentRef:a}))}}})(class extends l.PureComponent{constructor(){super(...arguments),this.keyMap={CHANGE_CELL_TYPE:["ctrl+shift+y","ctrl+shift+m","meta+shift+y","meta+shift+m"],COPY_CELL:["ctrl+shift+c","meta+shift+c"],CREATE_CELL_ABOVE:["ctrl+shift+a","meta+shift+a"],CREATE_CELL_BELOW:["ctrl+shift+b","meta+shift+b"],CUT_CELL:["ctrl+shift+x","meta+shift+x"],DELETE_CELL:["ctrl+shift+d","meta+shift+d"],EXECUTE_ALL_CELLS:["alt+r a"],INTERRUPT_KERNEL:["alt+r i"],KILL_KERNEL:["alt+r k"],OPEN:["ctrl+o","meta+o"],PASTE_CELL:["ctrl+shift+v"],RESTART_KERNEL:["alt+r r","alt+r c","alt+r a"],SAVE:["ctrl+s","ctrl+shift+s","meta+s","meta+shift+s"]}}render(){const{appBase:e,baseDir:t,contentRef:n,contentType:a,displayName:o,error:s,handlers:r,headerData:i,loading:c,onHeaderEditorChange:p,saving:d,showHeaderEditor:h}=this.props;switch(a){case"notebook":case"file":case"dummy":return l.createElement(l.Fragment,null,l.createElement(E.HotKeys,{keyMap:this.keyMap,handlers:r},l.createElement(oe,{appBase:e,baseDir:t,contentRef:n,displayName:o,error:s,loading:c,saving:d},"notebook"===a?l.createElement(l.Fragment,null,l.createElement(u.c,{contentRef:n}),h?l.createElement(u.a,{editable:!0,contentRef:n,headerData:i,onChange:p}):null):null),l.createElement(V,{contentRef:n,appBase:e})));case"directory":return l.createElement(l.Fragment,null,l.createElement(ne,{appBase:e}),l.createElement(T,{appBase:e,contentRef:n}));default:return l.createElement(l.Fragment,null,l.createElement(ne,{appBase:e}),l.createElement("div",null,`content type ${a} not implemented`))}}});var re=class extends l.Component{shouldComponentUpdate(e){return e.contentRef!==this.props.contentRef}render(){return l.createElement(l.Fragment,null,l.createElement(se,{contentRef:this.props.contentRef}),l.createElement(h.a,{ref:e=>{this.notificationSystem=e}}))}},le=n(387),ie=n(589),ce=n(587);const pe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||le.compose,de=Object(le.combineReducers)({app:a.q.app,comms:a.q.comms,config:a.q.config,core:a.q.core});n.d(t,"main",(function(){return me}));var he=function(e,t,n,a){return new(n||(n=Promise))((function(o,s){function r(e){try{i(a.next(e))}catch(e){s(e)}}function l(e){try{i(a.throw(e))}catch(e){s(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}i((a=a.apply(e,t||[])).next())}))};function me(e,t){return he(this,void 0,void 0,(function*(){const n=Object(a.m)({id:null,type:"jupyter",defaultKernelName:"python",token:e.token,origin:location.origin,basePath:e.baseUrl,bookstoreEnabled:!!e.bookstore.version,showHeaderEditor:!1}),i=Object(a.c)(),d=Object(a.b)(),h=()=>null,m=Object(a.e)(),u={app:Object(a.g)({version:`nteract-on-jupyter@${e.appVersion}`,host:n}),comms:Object(a.h)(),config:r.Map({theme:"light"}),core:Object(a.n)({currentKernelspecsRef:m,entities:Object(a.k)({hosts:Object(a.l)({byRef:r.Map().set(i,n)}),contents:Object(a.i)({byRef:r.Map().set(d,Object(a.j)({filepath:e.contentsPath}))}),transforms:Object(a.o)({displayOrder:r.List(["application/vnd.jupyter.widget-view+json","application/vnd.vega.v5+json","application/vnd.vega.v4+json","application/vnd.vega.v3+json","application/vnd.vega.v2+json","application/vnd.vegalite.v3+json","application/vnd.vegalite.v2+json","application/vnd.vegalite.v1+json","application/geo+json","application/vnd.plotly.v1+json","text/vnd.plotly.v1+html","application/x-nteract-model-debug+json","application/vnd.dataresource+json","application/vdom.v1+json","application/json","application/javascript","text/html","text/markdown","text/latex","image/svg+xml","image/gif","image/png","image/jpeg","text/plain"]),byId:r.Map({"text/vnd.plotly.v1+html":h,"application/vnd.plotly.v1+json":h,"application/geo+json":h,"application/x-nteract-model-debug+json":h,"application/vnd.dataresource+json":h,"application/vnd.jupyter.widget-view+json":h,"application/vnd.vegalite.v1+json":h,"application/vnd.vegalite.v2+json":h,"application/vnd.vegalite.v3+json":h,"application/vnd.vega.v2+json":h,"application/vnd.vega.v3+json":h,"application/vnd.vega.v4+json":h,"application/vnd.vega.v5+json":h,"application/vdom.v1+json":s.a,"application/json":o.b.Json,"application/javascript":o.b.JavaScript,"text/html":o.b.HTML,"text/markdown":o.b.Markdown,"text/latex":o.b.LaTeX,"image/svg+xml":o.b.SVG,"image/gif":o.b.Image,"image/png":o.b.Image,"image/jpeg":o.b.Image,"text/plain":o.b.Plain})})})})},f=Object(a.d)(),E=function(e){const t=Object(ie.a)(...a.f.allEpics),n=Object(ce.a)(),o=[n,a.p.errorMiddleware],s=Object(le.createStore)(de,e,pe(Object(le.applyMiddleware)(...o)));return n.run(t),s}(u);window.store=E,E.dispatch(a.a.fetchContent({filepath:e.contentsPath,params:{},kernelRef:f,contentRef:d})),E.dispatch(a.a.fetchKernelspecs({hostRef:i,kernelspecsRef:m})),c.a.render(l.createElement(l.Fragment,null,l.createElement(p.a,{store:E},l.createElement(re,{contentRef:d}))),t)}))}n.e(20).then(n.bind(null,1804))}}]);