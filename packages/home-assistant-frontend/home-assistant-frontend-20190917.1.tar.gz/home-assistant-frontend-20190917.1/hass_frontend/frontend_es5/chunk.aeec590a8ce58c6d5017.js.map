{"version":3,"sources":["webpack:///./node_modules/@polymer/iron-icon/iron-icon.js","webpack:///./src/components/ha-icon.ts","webpack:///./src/common/util/debounce.ts","webpack:///./src/common/string/compare.ts","webpack:///./src/data/config_flow.ts","webpack:///./src/data/config_entries.ts","webpack:///./src/dialogs/config-flow/show-dialog-data-entry-flow.ts","webpack:///./src/dialogs/config-flow/show-dialog-config-flow.ts","webpack:///./src/onboarding/integration-badge.ts","webpack:///./src/onboarding/onboarding-integrations.ts"],"names":["__webpack_require__","_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_2__","_polymer_polymer_lib_legacy_polymer_dom_js__WEBPACK_IMPORTED_MODULE_3__","_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_4__","_polymer_polymer_polymer_legacy_js__WEBPACK_IMPORTED_MODULE_5__","Object","_template","is","properties","icon","type","String","theme","src","_meta","value","create","observers","_DEFAULT_ICONSET","_iconChanged","parts","split","this","_iconName","pop","_iconsetName","_updateIcon","_srcChanged","_usesIconset","_img","parentNode","root","removeChild","_iconset","removeIcon","byKey","applyIcon","unlisten","window","listen","document","createElement","style","width","height","draggable","appendChild","ironIconClass","customElements","get","loaded","HaIcon","_super","tslib__WEBPACK_IMPORTED_MODULE_0__","prototype","node","eventName","methodName","call","e","then","bind","define","d","__webpack_exports__","debounce","func","wait","immediate","timeout","args","_i","arguments","length","context","callNow","clearTimeout","setTimeout","apply","compare","caseInsensitiveCompare","a","b","toLowerCase","createConfigFlow","fetchConfigFlow","handleConfigFlowStep","deleteConfigFlow","getConfigFlowHandlers","getConfigFlowInProgressCollection","subscribeConfigFlowInProgress","localizeConfigFlowTitle","_common_util_debounce__WEBPACK_IMPORTED_MODULE_0__","home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_1__","hass","handler","callApi","flowId","data","fetchConfigFlowInProgress","conn","sendMessagePromise","subscribeConfigFlowInProgressUpdates","store","subscribeEvents","flows","setState","onChange","connection","subscribe","localize","flow","placeholders","title_placeholders","placeholderKeys","keys","forEach","key","push","concat","getConfigEntries","deleteConfigEntry","configEntryId","getConfigEntrySystemOptions","callWS","entry_id","updateConfigEntrySystemOptions","params","loadDataEntryFlowDialog","Promise","all","showFlowDialog","element","dialogParams","flowConfig","_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_1__","dialogTag","dialogImport","loadConfigFlowDialog","_show_dialog_data_entry_flow__WEBPACK_IMPORTED_MODULE_4__","showConfigFlowDialog","loadDevicesAndAreas","getFlowHandlers","_data_config_flow__WEBPACK_IMPORTED_MODULE_1__","handlers","sort","handlerA","handlerB","_common_string_compare__WEBPACK_IMPORTED_MODULE_5__","createFlow","fetchFlow","handleFlowStep","deleteFlow","renderAbortDescription","step","description","_common_translations_localize__WEBPACK_IMPORTED_MODULE_3__","reason","description_placeholders","lit_element__WEBPACK_IMPORTED_MODULE_2__","templateObject_1","renderShowFormStepHeader","step_id","renderShowFormStepDescription","templateObject_2","renderShowFormStepFieldLabel","field","name","renderShowFormStepFieldError","error","renderExternalStepHeader","renderExternalStepDescription","templateObject_4","templateObject_3","renderCreateEntryDescription","templateObject_6","templateObject_5","title","IntegrationBadge","_this","clickable","tslib_es6","render","lit_element","badgeIcon","defineProperty","Boolean","reflect","OnboardingIntegrations","connectedCallback","_unsubEvents","config_flow","_discovered","disconnectedCallback","undefined","_entries","onboarding_integrations_templateObject_1","entries","map","entry","domain","onboarding_integrations_templateObject_2","discovered","onboarding_integrations_templateObject_3","flow_id","_continueFlow","content","item","onboardingLocalize","_createFlow","_finish","firstUpdated","changedProps","show_dialog_config_flow","_loadConfigEntries","t","dialogClosedCallback","refresh","ev","continueFlowId","currentTarget","config_entries","_a","sent","filter","onboarding","client_id","haws_es","result","fire_event"],"mappings":"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","file":"chunk.aeec590a8ce58c6d5017.js","sourcesContent":["/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\n\nimport {IronMeta} from '@polymer/iron-meta/iron-meta.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {dom} from '@polymer/polymer/lib/legacy/polymer.dom.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\nimport {Base} from '@polymer/polymer/polymer-legacy.js';\n\n/**\n\nThe `iron-icon` element displays an icon. By default an icon renders as a 24px\nsquare.\n\nExample using src:\n\n    <iron-icon src=\"star.png\"></iron-icon>\n\nExample setting size to 32px x 32px:\n\n    <iron-icon class=\"big\" src=\"big_star.png\"></iron-icon>\n\n    <style is=\"custom-style\">\n      .big {\n        --iron-icon-height: 32px;\n        --iron-icon-width: 32px;\n      }\n    </style>\n\nThe iron elements include several sets of icons. To use the default set of\nicons, import `iron-icons.js` and use the `icon` attribute to specify an icon:\n\n    <script type=\"module\">\n      import \"@polymer/iron-icons/iron-icons.js\";\n    </script>\n\n    <iron-icon icon=\"menu\"></iron-icon>\n\nTo use a different built-in set of icons, import the specific\n`iron-icons/<iconset>-icons.js`, and specify the icon as `<iconset>:<icon>`.\nFor example, to use a communication icon, you would use:\n\n    <script type=\"module\">\n      import \"@polymer/iron-icons/communication-icons.js\";\n    </script>\n\n    <iron-icon icon=\"communication:email\"></iron-icon>\n\nYou can also create custom icon sets of bitmap or SVG icons.\n\nExample of using an icon named `cherry` from a custom iconset with the ID\n`fruit`:\n\n    <iron-icon icon=\"fruit:cherry\"></iron-icon>\n\nSee `<iron-iconset>` and `<iron-iconset-svg>` for more information about how to\ncreate a custom iconset.\n\nSee the `iron-icons` demo to see the icons available in the various iconsets.\n\n### Styling\n\nThe following custom properties are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--iron-icon` | Mixin applied to the icon | {}\n`--iron-icon-width` | Width of the icon | `24px`\n`--iron-icon-height` | Height of the icon | `24px`\n`--iron-icon-fill-color` | Fill color of the svg icon | `currentcolor`\n`--iron-icon-stroke-color` | Stroke color of the svg icon | none\n\n@group Iron Elements\n@element iron-icon\n@demo demo/index.html\n@hero hero.svg\n@homepage polymer.github.io\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        @apply --layout-inline;\n        @apply --layout-center-center;\n        position: relative;\n\n        vertical-align: middle;\n\n        fill: var(--iron-icon-fill-color, currentcolor);\n        stroke: var(--iron-icon-stroke-color, none);\n\n        width: var(--iron-icon-width, 24px);\n        height: var(--iron-icon-height, 24px);\n        @apply --iron-icon;\n      }\n\n      :host([hidden]) {\n        display: none;\n      }\n    </style>\n`,\n\n  is: 'iron-icon',\n\n  properties: {\n\n    /**\n     * The name of the icon to use. The name should be of the form:\n     * `iconset_name:icon_name`.\n     */\n    icon: {type: String},\n\n    /**\n     * The name of the theme to used, if one is specified by the\n     * iconset.\n     */\n    theme: {type: String},\n\n    /**\n     * If using iron-icon without an iconset, you can set the src to be\n     * the URL of an individual icon image file. Note that this will take\n     * precedence over a given icon attribute.\n     */\n    src: {type: String},\n\n    /**\n     * @type {!IronMeta}\n     */\n    _meta: {value: Base.create('iron-meta', {type: 'iconset'})}\n\n  },\n\n  observers: [\n    '_updateIcon(_meta, isAttached)',\n    '_updateIcon(theme, isAttached)',\n    '_srcChanged(src, isAttached)',\n    '_iconChanged(icon, isAttached)'\n  ],\n\n  _DEFAULT_ICONSET: 'icons',\n\n  _iconChanged: function(icon) {\n    var parts = (icon || '').split(':');\n    this._iconName = parts.pop();\n    this._iconsetName = parts.pop() || this._DEFAULT_ICONSET;\n    this._updateIcon();\n  },\n\n  _srcChanged: function(src) {\n    this._updateIcon();\n  },\n\n  _usesIconset: function() {\n    return this.icon || !this.src;\n  },\n\n  /** @suppress {visibility} */\n  _updateIcon: function() {\n    if (this._usesIconset()) {\n      if (this._img && this._img.parentNode) {\n        dom(this.root).removeChild(this._img);\n      }\n      if (this._iconName === '') {\n        if (this._iconset) {\n          this._iconset.removeIcon(this);\n        }\n      } else if (this._iconsetName && this._meta) {\n        this._iconset = /** @type {?Polymer.Iconset} */ (\n            this._meta.byKey(this._iconsetName));\n        if (this._iconset) {\n          this._iconset.applyIcon(this, this._iconName, this.theme);\n          this.unlisten(window, 'iron-iconset-added', '_updateIcon');\n        } else {\n          this.listen(window, 'iron-iconset-added', '_updateIcon');\n        }\n      }\n    } else {\n      if (this._iconset) {\n        this._iconset.removeIcon(this);\n      }\n      if (!this._img) {\n        this._img = document.createElement('img');\n        this._img.style.width = '100%';\n        this._img.style.height = '100%';\n        this._img.draggable = false;\n      }\n      this._img.src = this.src;\n      dom(this.root).appendChild(this._img);\n    }\n  }\n});\n","import { Constructor } from \"lit-element\";\nimport \"@polymer/iron-icon/iron-icon\";\n// Not duplicate, this is for typing.\n// tslint:disable-next-line\nimport { IronIconElement } from \"@polymer/iron-icon/iron-icon\";\n\nconst ironIconClass = customElements.get(\"iron-icon\") as Constructor<\n  IronIconElement\n>;\n\nlet loaded = false;\n\nexport class HaIcon extends ironIconClass {\n  private _iconsetName?: string;\n\n  public listen(\n    node: EventTarget | null,\n    eventName: string,\n    methodName: string\n  ): void {\n    super.listen(node, eventName, methodName);\n\n    if (!loaded && this._iconsetName === \"mdi\") {\n      loaded = true;\n      import(/* webpackChunkName: \"mdi-icons\" */ \"../resources/mdi-icons\");\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-icon\": HaIcon;\n  }\n}\n\ncustomElements.define(\"ha-icon\", HaIcon);\n","// From: https://davidwalsh.name/javascript-debounce-function\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n// tslint:disable-next-line: ban-types\nexport const debounce = <T extends Function>(\n  func: T,\n  wait,\n  immediate = false\n): T => {\n  let timeout;\n  // @ts-ignore\n  return function(...args) {\n    // tslint:disable:no-this-assignment\n    // @ts-ignore\n    const context = this;\n    const later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};\n","export const compare = (a: string, b: string) => {\n  if (a < b) {\n    return -1;\n  }\n  if (a > b) {\n    return 1;\n  }\n\n  return 0;\n};\n\nexport const caseInsensitiveCompare = (a: string, b: string) =>\n  compare(a.toLowerCase(), b.toLowerCase());\n","import { HomeAssistant } from \"../types\";\nimport { DataEntryFlowStep, DataEntryFlowProgress } from \"./data_entry_flow\";\nimport { debounce } from \"../common/util/debounce\";\nimport { getCollection, Connection } from \"home-assistant-js-websocket\";\nimport { LocalizeFunc } from \"../common/translations/localize\";\n\nexport const createConfigFlow = (hass: HomeAssistant, handler: string) =>\n  hass.callApi<DataEntryFlowStep>(\"POST\", \"config/config_entries/flow\", {\n    handler,\n  });\n\nexport const fetchConfigFlow = (hass: HomeAssistant, flowId: string) =>\n  hass.callApi<DataEntryFlowStep>(\n    \"GET\",\n    `config/config_entries/flow/${flowId}`\n  );\n\nexport const handleConfigFlowStep = (\n  hass: HomeAssistant,\n  flowId: string,\n  data: { [key: string]: any }\n) =>\n  hass.callApi<DataEntryFlowStep>(\n    \"POST\",\n    `config/config_entries/flow/${flowId}`,\n    data\n  );\n\nexport const deleteConfigFlow = (hass: HomeAssistant, flowId: string) =>\n  hass.callApi(\"DELETE\", `config/config_entries/flow/${flowId}`);\n\nexport const getConfigFlowHandlers = (hass: HomeAssistant) =>\n  hass.callApi<string[]>(\"GET\", \"config/config_entries/flow_handlers\");\n\nconst fetchConfigFlowInProgress = (conn) =>\n  conn.sendMessagePromise({\n    type: \"config_entries/flow/progress\",\n  });\n\nconst subscribeConfigFlowInProgressUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    debounce(\n      () =>\n        fetchConfigFlowInProgress(conn).then((flows) =>\n          store.setState(flows, true)\n        ),\n      500,\n      true\n    ),\n    \"config_entry_discovered\"\n  );\n\nexport const getConfigFlowInProgressCollection = (conn: Connection) =>\n  getCollection<DataEntryFlowProgress[]>(\n    conn,\n    \"_configFlowProgress\",\n    fetchConfigFlowInProgress,\n    subscribeConfigFlowInProgressUpdates\n  );\n\nexport const subscribeConfigFlowInProgress = (\n  hass: HomeAssistant,\n  onChange: (flows: DataEntryFlowProgress[]) => void\n) => getConfigFlowInProgressCollection(hass.connection).subscribe(onChange);\n\nexport const localizeConfigFlowTitle = (\n  localize: LocalizeFunc,\n  flow: DataEntryFlowProgress\n) => {\n  const placeholders = flow.context.title_placeholders || {};\n  const placeholderKeys = Object.keys(placeholders);\n  if (placeholderKeys.length === 0) {\n    return localize(`component.${flow.handler}.config.title`);\n  }\n  const args: string[] = [];\n  placeholderKeys.forEach((key) => {\n    args.push(key);\n    args.push(placeholders[key]);\n  });\n  return localize(`component.${flow.handler}.config.flow_title`, ...args);\n};\n","import { HomeAssistant } from \"../types\";\n\nexport interface ConfigEntry {\n  entry_id: string;\n  domain: string;\n  title: string;\n  source: string;\n  state: string;\n  connection_class: string;\n  supports_options: boolean;\n}\n\nexport interface ConfigEntrySystemOptions {\n  disable_new_entities: boolean;\n}\n\nexport const getConfigEntries = (hass: HomeAssistant) =>\n  hass.callApi<ConfigEntry[]>(\"GET\", \"config/config_entries/entry\");\n\nexport const deleteConfigEntry = (hass: HomeAssistant, configEntryId: string) =>\n  hass.callApi<{\n    require_restart: boolean;\n  }>(\"DELETE\", `config/config_entries/entry/${configEntryId}`);\n\nexport const getConfigEntrySystemOptions = (\n  hass: HomeAssistant,\n  configEntryId: string\n) =>\n  hass.callWS<ConfigEntrySystemOptions>({\n    type: \"config_entries/system_options/list\",\n    entry_id: configEntryId,\n  });\n\nexport const updateConfigEntrySystemOptions = (\n  hass: HomeAssistant,\n  configEntryId: string,\n  params: Partial<ConfigEntrySystemOptions>\n) =>\n  hass.callWS({\n    type: \"config_entries/system_options/update\",\n    entry_id: configEntryId,\n    ...params,\n  });\n","import { TemplateResult } from \"lit-html\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport { HomeAssistant } from \"../../types\";\nimport {\n  DataEntryFlowStepCreateEntry,\n  DataEntryFlowStepExternal,\n  DataEntryFlowStepForm,\n  DataEntryFlowStep,\n  DataEntryFlowStepAbort,\n  FieldSchema,\n} from \"../../data/data_entry_flow\";\n\nexport interface FlowConfig {\n  loadDevicesAndAreas: boolean;\n\n  getFlowHandlers?: (hass: HomeAssistant) => Promise<string[]>;\n\n  createFlow(hass: HomeAssistant, handler: string): Promise<DataEntryFlowStep>;\n\n  fetchFlow(hass: HomeAssistant, flowId: string): Promise<DataEntryFlowStep>;\n\n  handleFlowStep(\n    hass: HomeAssistant,\n    flowId: string,\n    data: { [key: string]: any }\n  ): Promise<DataEntryFlowStep>;\n\n  deleteFlow(hass: HomeAssistant, flowId: string): Promise<unknown>;\n\n  renderAbortDescription(\n    hass: HomeAssistant,\n    step: DataEntryFlowStepAbort\n  ): TemplateResult | \"\";\n\n  renderShowFormStepHeader(\n    hass: HomeAssistant,\n    step: DataEntryFlowStepForm\n  ): string;\n\n  renderShowFormStepDescription(\n    hass: HomeAssistant,\n    step: DataEntryFlowStepForm\n  ): TemplateResult | \"\";\n\n  renderShowFormStepFieldLabel(\n    hass: HomeAssistant,\n    step: DataEntryFlowStepForm,\n    field: FieldSchema\n  ): string;\n\n  renderShowFormStepFieldError(\n    hass: HomeAssistant,\n    step: DataEntryFlowStepForm,\n    error: string\n  ): string;\n\n  renderExternalStepHeader(\n    hass: HomeAssistant,\n    step: DataEntryFlowStepExternal\n  ): string;\n\n  renderExternalStepDescription(\n    hass: HomeAssistant,\n    step: DataEntryFlowStepExternal\n  ): TemplateResult | \"\";\n\n  renderCreateEntryDescription(\n    hass: HomeAssistant,\n    step: DataEntryFlowStepCreateEntry\n  ): TemplateResult | \"\";\n}\n\nexport interface DataEntryFlowDialogParams {\n  startFlowHandler?: string;\n  continueFlowId?: string;\n  dialogClosedCallback?: (params: { flowFinished: boolean }) => void;\n  flowConfig: FlowConfig;\n}\n\nexport const loadDataEntryFlowDialog = () =>\n  import(/* webpackChunkName: \"dialog-config-flow\" */ \"./dialog-data-entry-flow\");\n\nexport const showFlowDialog = (\n  element: HTMLElement,\n  dialogParams: Omit<DataEntryFlowDialogParams, \"flowConfig\">,\n  flowConfig: FlowConfig\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-data-entry-flow\",\n    dialogImport: loadDataEntryFlowDialog,\n    dialogParams: {\n      ...dialogParams,\n      flowConfig,\n    },\n  });\n};\n","import {\n  getConfigFlowHandlers,\n  fetchConfigFlow,\n  handleConfigFlowStep,\n  deleteConfigFlow,\n  createConfigFlow,\n} from \"../../data/config_flow\";\nimport { html } from \"lit-element\";\nimport { localizeKey } from \"../../common/translations/localize\";\nimport {\n  showFlowDialog,\n  DataEntryFlowDialogParams,\n  loadDataEntryFlowDialog,\n} from \"./show-dialog-data-entry-flow\";\nimport { caseInsensitiveCompare } from \"../../common/string/compare\";\n\nexport const loadConfigFlowDialog = loadDataEntryFlowDialog;\n\nexport const showConfigFlowDialog = (\n  element: HTMLElement,\n  dialogParams: Omit<DataEntryFlowDialogParams, \"flowConfig\">\n): void =>\n  showFlowDialog(element, dialogParams, {\n    loadDevicesAndAreas: true,\n    getFlowHandlers: (hass) =>\n      getConfigFlowHandlers(hass).then((handlers) =>\n        handlers.sort((handlerA, handlerB) =>\n          caseInsensitiveCompare(\n            hass.localize(`component.${handlerA}.config.title`),\n            hass.localize(`component.${handlerB}.config.title`)\n          )\n        )\n      ),\n    createFlow: createConfigFlow,\n    fetchFlow: fetchConfigFlow,\n    handleFlowStep: handleConfigFlowStep,\n    deleteFlow: deleteConfigFlow,\n\n    renderAbortDescription(hass, step) {\n      const description = localizeKey(\n        hass.localize,\n        `component.${step.handler}.config.abort.${step.reason}`,\n        step.description_placeholders\n      );\n\n      return description\n        ? html`\n            <ha-markdown allowsvg .content=${description}></ha-markdown>\n          `\n        : \"\";\n    },\n\n    renderShowFormStepHeader(hass, step) {\n      return hass.localize(\n        `component.${step.handler}.config.step.${step.step_id}.title`\n      );\n    },\n\n    renderShowFormStepDescription(hass, step) {\n      const description = localizeKey(\n        hass.localize,\n        `component.${step.handler}.config.step.${step.step_id}.description`,\n        step.description_placeholders\n      );\n      return description\n        ? html`\n            <ha-markdown allowsvg .content=${description}></ha-markdown>\n          `\n        : \"\";\n    },\n\n    renderShowFormStepFieldLabel(hass, step, field) {\n      return hass.localize(\n        `component.${step.handler}.config.step.${step.step_id}.data.${\n          field.name\n        }`\n      );\n    },\n\n    renderShowFormStepFieldError(hass, step, error) {\n      return hass.localize(`component.${step.handler}.config.error.${error}`);\n    },\n\n    renderExternalStepHeader(hass, step) {\n      return hass.localize(\n        `component.${step.handler}.config.step.${step.step_id}.title`\n      );\n    },\n\n    renderExternalStepDescription(hass, step) {\n      const description = localizeKey(\n        hass.localize,\n        `component.${step.handler}.config.${step.step_id}.description`,\n        step.description_placeholders\n      );\n\n      return html`\n        <p>\n          ${hass.localize(\n            \"ui.panel.config.integrations.config_flow.external_step.description\"\n          )}\n        </p>\n        ${description\n          ? html`\n              <ha-markdown allowsvg .content=${description}></ha-markdown>\n            `\n          : \"\"}\n      `;\n    },\n\n    renderCreateEntryDescription(hass, step) {\n      const description = localizeKey(\n        hass.localize,\n        `component.${step.handler}.config.create_entry.${step.description ||\n          \"default\"}`,\n        step.description_placeholders\n      );\n\n      return html`\n        ${description\n          ? html`\n              <ha-markdown allowsvg .content=${description}></ha-markdown>\n            `\n          : \"\"}\n        <p>Created config for ${step.title}.</p>\n      `;\n    },\n  });\n","import {\n  LitElement,\n  TemplateResult,\n  html,\n  customElement,\n  property,\n  CSSResult,\n  css,\n} from \"lit-element\";\nimport \"../components/ha-icon\";\n\n@customElement(\"integration-badge\")\nclass IntegrationBadge extends LitElement {\n  @property() public icon!: string;\n  @property() public title!: string;\n  @property() public badgeIcon?: string;\n  @property({ type: Boolean, reflect: true }) public clickable = false;\n\n  protected render(): TemplateResult | void {\n    return html`\n      <div class=\"icon\">\n        <iron-icon .icon=${this.icon}></iron-icon>\n        ${this.badgeIcon\n          ? html`\n              <ha-icon class=\"badge\" .icon=${this.badgeIcon}></ha-icon>\n            `\n          : \"\"}\n      </div>\n      <div class=\"title\">${this.title}</div>\n    `;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        display: inline-flex;\n        flex-direction: column;\n        text-align: center;\n        color: var(--primary-text-color);\n      }\n\n      :host([clickable]) {\n        color: var(--primary-text-color);\n      }\n\n      .icon {\n        position: relative;\n        margin: 0 auto 8px;\n        height: 40px;\n        width: 40px;\n        border-radius: 50%;\n        border: 1px solid var(--secondary-text-color);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      :host([clickable]) .icon {\n        border-color: var(--primary-color);\n        border-width: 2px;\n      }\n\n      .badge {\n        position: absolute;\n        color: var(--primary-color);\n        bottom: -5px;\n        right: -5px;\n        background-color: white;\n        border-radius: 50%;\n        width: 18px;\n        display: block;\n        height: 18px;\n      }\n\n      .title {\n        min-height: 2.3em;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"integration-badge\": IntegrationBadge;\n  }\n}\n","import {\n  LitElement,\n  TemplateResult,\n  html,\n  customElement,\n  PropertyValues,\n  property,\n  CSSResult,\n  css,\n} from \"lit-element\";\nimport \"@material/mwc-button/mwc-button\";\nimport {\n  loadConfigFlowDialog,\n  showConfigFlowDialog,\n} from \"../dialogs/config-flow/show-dialog-config-flow\";\nimport { HomeAssistant } from \"../types\";\nimport { getConfigEntries, ConfigEntry } from \"../data/config_entries\";\nimport { compare } from \"../common/string/compare\";\nimport \"./integration-badge\";\nimport { LocalizeFunc } from \"../common/translations/localize\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport { onboardIntegrationStep } from \"../data/onboarding\";\nimport { genClientId } from \"home-assistant-js-websocket\";\nimport { DataEntryFlowProgress } from \"../data/data_entry_flow\";\nimport {\n  localizeConfigFlowTitle,\n  subscribeConfigFlowInProgress,\n  getConfigFlowInProgressCollection,\n} from \"../data/config_flow\";\n\n@customElement(\"onboarding-integrations\")\nclass OnboardingIntegrations extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public onboardingLocalize!: LocalizeFunc;\n  @property() private _entries?: ConfigEntry[];\n  @property() private _discovered?: DataEntryFlowProgress[];\n  private _unsubEvents?: () => void;\n\n  public connectedCallback() {\n    super.connectedCallback();\n    this._unsubEvents = subscribeConfigFlowInProgress(this.hass, (flows) => {\n      this._discovered = flows;\n    });\n  }\n\n  public disconnectedCallback() {\n    super.disconnectedCallback();\n    if (this._unsubEvents) {\n      this._unsubEvents();\n      this._unsubEvents = undefined;\n    }\n  }\n\n  protected render(): TemplateResult | void {\n    if (!this._entries || !this._discovered) {\n      return html``;\n    }\n    // Render discovered and existing entries together sorted by localized title.\n    const entries: Array<[string, TemplateResult]> = this._entries.map(\n      (entry) => {\n        const title = this.hass.localize(\n          `component.${entry.domain}.config.title`\n        );\n        return [\n          title,\n          html`\n            <integration-badge\n              .title=${title}\n              icon=\"hass:check\"\n            ></integration-badge>\n          `,\n        ];\n      }\n    );\n    const discovered: Array<[string, TemplateResult]> = this._discovered.map(\n      (flow) => {\n        const title = localizeConfigFlowTitle(this.hass.localize, flow);\n        return [\n          title,\n          html`\n            <button .flowId=${flow.flow_id} @click=${this._continueFlow}>\n              <integration-badge\n                clickable\n                .title=${title}\n                icon=\"hass:plus\"\n              ></integration-badge>\n            </button>\n          `,\n        ];\n      }\n    );\n    const content = [...entries, ...discovered]\n      .sort((a, b) => compare(a[0], b[0]))\n      .map((item) => item[1]);\n\n    return html`\n      <p>\n        ${this.onboardingLocalize(\"ui.panel.page-onboarding.integration.intro\")}\n      </p>\n      <div class=\"badges\">\n        ${content}\n        <button @click=${this._createFlow}>\n          <integration-badge\n            clickable\n            title=${this.onboardingLocalize(\n              \"ui.panel.page-onboarding.integration.more_integrations\"\n            )}\n            icon=\"hass:dots-horizontal\"\n          ></integration-badge>\n        </button>\n      </div>\n      <div class=\"footer\">\n        <mwc-button @click=${this._finish}>\n          ${this.onboardingLocalize(\n            \"ui.panel.page-onboarding.integration.finish\"\n          )}\n        </mwc-button>\n      </div>\n    `;\n  }\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n    loadConfigFlowDialog();\n    this._loadConfigEntries();\n    /* polyfill for paper-dropdown */\n    import(/* webpackChunkName: \"polyfill-web-animations-next\" */ \"web-animations-js/web-animations-next-lite.min\");\n  }\n\n  private _createFlow() {\n    showConfigFlowDialog(this, {\n      dialogClosedCallback: () => {\n        this._loadConfigEntries();\n        getConfigFlowInProgressCollection(this.hass!.connection).refresh();\n      },\n    });\n  }\n\n  private _continueFlow(ev) {\n    showConfigFlowDialog(this, {\n      continueFlowId: ev.currentTarget.flowId,\n      dialogClosedCallback: () => {\n        this._loadConfigEntries();\n        getConfigFlowInProgressCollection(this.hass!.connection).refresh();\n      },\n    });\n  }\n\n  private async _loadConfigEntries() {\n    const entries = await getConfigEntries(this.hass!);\n    // We filter out the config entry for the local weather.\n    // It is one that we create automatically and it will confuse the user\n    // if it starts showing up during onboarding.\n    this._entries = entries.filter((entry) => entry.domain !== \"met\");\n  }\n\n  private async _finish() {\n    const result = await onboardIntegrationStep(this.hass, {\n      client_id: genClientId(),\n    });\n    fireEvent(this, \"onboarding-step\", {\n      type: \"integration\",\n      result,\n    });\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      .badges {\n        margin-top: 24px;\n      }\n      .badges > * {\n        width: 24%;\n        min-width: 90px;\n        margin-bottom: 24px;\n      }\n      button {\n        display: inline-block;\n        cursor: pointer;\n        padding: 0;\n        border: 0;\n        background: 0;\n        font: inherit;\n      }\n      .footer {\n        text-align: right;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"onboarding-integrations\": OnboardingIntegrations;\n  }\n}\n"],"sourceRoot":""}