(self.webpackJsonp=self.webpackJsonp||[]).push([[71],{200:function(n,e,t){"use strict";var o=t(233);t.d(e,"a",function(){return r});var r=Object(o.a)({types:{"entity-id":function(n){return"string"!=typeof n?"entity id should be a string":!!n.includes(".")||"entity id should be in the format 'domain.entity'"},icon:function(n){return"string"!=typeof n?"icon should be a string":!!n.includes(":")||"icon should be in the format 'mdi:icon'"}}})},417:function(n,e,t){"use strict";var o=t(0),r=t(367),i=t.n(r),a=(t(465),t(466)),s=t(18),c=t(97),l=t(1);!function(n){function e(){var e=n.call(this)||this;return i.a.commands.save=function(n){Object(s.a)(n.getWrapperElement(),"yaml-save")},e._value="",e.attachShadow({mode:"open"}).innerHTML="\n            <style>\n              "+a.a+"\n              .CodeMirror {\n                height: var(--code-mirror-height, auto);\n                direction: var(--code-mirror-direction, ltr);\n              }\n              .CodeMirror-scroll {\n                max-height: var(--code-mirror-max-height, --code-mirror-height);\n              }\n              .CodeMirror-gutters {\n                border-right: 1px solid var(--paper-input-container-color, var(--secondary-text-color));\n                background-color: var(--paper-dialog-background-color, var(--primary-background-color));\n                transition: 0.2s ease border-right;\n              }\n              .CodeMirror-focused .CodeMirror-gutters {\n                border-right: 2px solid var(--paper-input-container-focus-color, var(--primary-color));;\n              }\n              .CodeMirror-linenumber {\n                color: var(--paper-dialog-color, var(--primary-text-color));\n              }\n              .rtl .CodeMirror-vscrollbar {\n                right: auto;\n                left: 0px;\n              }\n              .rtl-gutter {\n                width: 20px;\n              }\n            </style>",e}o.d(e,n),Object.defineProperty(e.prototype,"hass",{set:function(n){this._hass=n,this._hass&&this.setScrollBarDirection()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.codemirror.getValue()},set:function(n){this.codemirror&&n!==this.codemirror.getValue()&&this.codemirror.setValue(n),this._value=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasComments",{get:function(){return!!this.shadowRoot.querySelector("span.cm-comment")},enumerable:!0,configurable:!0}),e.prototype.connectedCallback=function(){var n=this;this.codemirror?this.codemirror.refresh():(this.codemirror=i()(this.shadowRoot,{value:this._value,lineNumbers:!0,mode:"yaml",tabSize:2,autofocus:!0,viewportMargin:1/0,extraKeys:{Tab:"indentMore","Shift-Tab":"indentLess"},gutters:this._hass&&Object(c.a)(this._hass)?["rtl-gutter","CodeMirror-linenumbers"]:[]}),this.setScrollBarDirection(),this.codemirror.on("changes",function(){return n._onChange()}))},e.prototype._onChange=function(){Object(s.a)(this,"yaml-changed",{value:this.codemirror.getValue()})},e.prototype.setScrollBarDirection=function(){this.codemirror&&this.codemirror.getWrapperElement().classList.toggle("rtl",Object(c.a)(this._hass))},e=o.c([Object(l.d)("hui-yaml-editor")],e)}(HTMLElement)},684:function(n,e,t){"use strict";t.r(e);var o,r,i=t(0),a=t(1),s=t(73),c=t(462),l=t.n(c),d=(t(205),t(220),t(150),t(85),t(108),t(188),t(200)),h=(t(179),t(56)),u=(t(417),d.a.interface({title:"string?",views:["object"],resources:d.a.optional(["object"])})),p=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return i.d(e,n),Object.defineProperty(e,"properties",{get:function(){return{hass:{},lovelace:{},closeEditor:{},_saving:{},_changed:{}}},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(a.f)(o||(o=i.f(['\n      <app-header-layout>\n        <app-header>\n          <app-toolbar>\n            <paper-icon-button\n              icon="hass:close"\n              @click="','"\n            ></paper-icon-button>\n            <div main-title>\n              ','\n            </div>\n            <div\n              class="save-button\n              ','"\n            >\n              ','\n            </div>\n            <mwc-button raised @click="','"\n              >','</mwc-button\n            >\n          </app-toolbar>\n        </app-header>\n        <div class="content">\n          <hui-yaml-editor\n            .hass="','"\n            @yaml-changed="','"\n            @yaml-save="','"\n          >\n          </hui-yaml-editor>\n        </div>\n      </app-header-layout>\n    '],['\n      <app-header-layout>\n        <app-header>\n          <app-toolbar>\n            <paper-icon-button\n              icon="hass:close"\n              @click="','"\n            ></paper-icon-button>\n            <div main-title>\n              ','\n            </div>\n            <div\n              class="save-button\n              ','"\n            >\n              ','\n            </div>\n            <mwc-button raised @click="','"\n              >','</mwc-button\n            >\n          </app-toolbar>\n        </app-header>\n        <div class="content">\n          <hui-yaml-editor\n            .hass="','"\n            @yaml-changed="','"\n            @yaml-save="','"\n          >\n          </hui-yaml-editor>\n        </div>\n      </app-header-layout>\n    '])),this._closeEditor,this.hass.localize("ui.panel.lovelace.editor.raw_editor.header"),Object(s.a)({saved:!1===this._saving||!0===this._changed}),this._changed?this.hass.localize("ui.panel.lovelace.editor.raw_editor.unsaved_changes"):this.hass.localize("ui.panel.lovelace.editor.raw_editor.saved"),this._handleSave,this.hass.localize("ui.panel.lovelace.editor.raw_editor.save"),this.hass,this._yamlChanged,this._handleSave)},e.prototype.firstUpdated=function(){this.yamlEditor.value=l.a.safeDump(this.lovelace.config),this.yamlEditor.codemirror.clearHistory(),this._generation=this.yamlEditor.codemirror.changeGeneration(!0)},Object.defineProperty(e,"styles",{get:function(){return[h.a,Object(a.c)(r||(r=i.f(["\n        :host {\n          --code-mirror-height: 100%;\n        }\n\n        app-header-layout {\n          height: 100vh;\n        }\n\n        app-toolbar {\n          background-color: var(--dark-background-color, #455a64);\n          color: var(--dark-text-color);\n        }\n\n        .comments {\n          font-size: 16px;\n        }\n\n        .content {\n          height: calc(100vh - 68px);\n        }\n\n        hui-code-editor {\n          height: 100%;\n        }\n\n        .save-button {\n          opacity: 0;\n          font-size: 14px;\n          padding: 0px 10px;\n        }\n\n        .saved {\n          opacity: 1;\n        }\n      "],["\n        :host {\n          --code-mirror-height: 100%;\n        }\n\n        app-header-layout {\n          height: 100vh;\n        }\n\n        app-toolbar {\n          background-color: var(--dark-background-color, #455a64);\n          color: var(--dark-text-color);\n        }\n\n        .comments {\n          font-size: 16px;\n        }\n\n        .content {\n          height: calc(100vh - 68px);\n        }\n\n        hui-code-editor {\n          height: 100%;\n        }\n\n        .save-button {\n          opacity: 0;\n          font-size: 14px;\n          padding: 0px 10px;\n        }\n\n        .saved {\n          opacity: 1;\n        }\n      "])))]},enumerable:!0,configurable:!0}),e.prototype._yamlChanged=function(){this._generation&&(this._changed=!this.yamlEditor.codemirror.isClean(this._generation),this._changed&&!window.onbeforeunload?window.onbeforeunload=function(){return!0}:!this._changed&&window.onbeforeunload&&(window.onbeforeunload=null))},e.prototype._closeEditor=function(){this._changed&&!confirm("You have unsaved changes, are you sure you want to exit?")||(window.onbeforeunload=null,this.closeEditor&&this.closeEditor())},e.prototype._handleSave=function(){return i.b(this,void 0,void 0,function(){var n,e;return i.e(this,function(t){switch(t.label){case 0:if(this._saving=!0,this.yamlEditor.hasComments&&!confirm("Your config contains comment(s), these will not be saved. Do you want to continue?"))return[2];try{n=l.a.safeLoad(this.yamlEditor.value)}catch(o){return alert("Unable to parse YAML: "+o),this._saving=!1,[2]}try{n=u(n)}catch(o){return alert("Your config is not valid: "+o),[2]}t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.lovelace.saveConfig(n)];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),alert("Unable to save YAML: "+e),[3,4];case 4:return this._generation=this.yamlEditor.codemirror.changeGeneration(!0),window.onbeforeunload=null,this._saving=!1,this._changed=!1,[2]}})})},Object.defineProperty(e.prototype,"yamlEditor",{get:function(){return this.shadowRoot.querySelector("hui-yaml-editor")},enumerable:!0,configurable:!0}),e}(a.a);customElements.define("hui-editor",p)}}]);
//# sourceMappingURL=chunk.f59de9700c204fe7b21a.js.map