{"version":3,"sources":["webpack:///./node_modules/@polymer/paper-item/paper-item-behavior.js","webpack:///./node_modules/@polymer/paper-item/paper-item-shared-styles.js","webpack:///./src/common/entity/compute_state_name.ts","webpack:///./src/components/ha-card.ts","webpack:///./src/components/ha-icon.ts","webpack:///./src/common/entity/domain_icon.ts","webpack:///./node_modules/@polymer/paper-item/paper-item-body.js","webpack:///./node_modules/@polymer/paper-item/paper-icon-item.js","webpack:///./src/common/entity/compute_object_id.ts","webpack:///./src/common/entity/sensor_icon.ts","webpack:///./src/common/entity/state_icon.ts","webpack:///./src/common/entity/binary_sensor_icon.ts","webpack:///./src/common/entity/cover_icon.ts","webpack:///./src/common/entity/input_dateteime_icon.ts","webpack:///./src/panels/config/ha-config-section.js","webpack:///./src/common/util/debounce.ts","webpack:///./src/common/string/compare.ts","webpack:///./src/data/entity_registry.ts","webpack:///./src/panels/config/entity_registry/show-dialog-entity-registry-detail.ts","webpack:///./src/panels/config/entity_registry/ha-config-entity-registry.ts"],"names":["__webpack_require__","d","__webpack_exports__","PaperItemBehavior","_polymer_iron_behaviors_iron_button_state_js__WEBPACK_IMPORTED_MODULE_1__","_polymer_iron_behaviors_iron_control_state_js__WEBPACK_IMPORTED_MODULE_2__","IronButtonState","IronControlState","hostAttributes","role","tabindex","$_documentContainer","document","createElement","setAttribute","innerHTML","head","appendChild","content","_compute_object_id__WEBPACK_IMPORTED_MODULE_0__","stateObj","undefined","attributes","friendly_name","Object","entity_id","replace","HaCard","_super","tslib__WEBPACK_IMPORTED_MODULE_0__","defineProperty","lit_element__WEBPACK_IMPORTED_MODULE_1__","templateObject_1","prototype","render","templateObject_4","this","header","templateObject_2","templateObject_3","customElements","define","ironIconClass","get","loaded","HaIcon","listen","node","eventName","methodName","call","_iconsetName","e","then","bind","domainIcon","_const__WEBPACK_IMPORTED_MODULE_0__","fixedIcons","alert","alexa","automation","calendar","camera","climate","configurator","conversation","device_tracker","fan","google_assistant","group","history_graph","homeassistant","homekit","image_processing","input_boolean","input_datetime","input_number","input_select","input_text","light","mailbox","notify","person","plant","proximity","remote","scene","script","sensor","simple_alarm","sun","switch","timer","updater","vacuum","water_heater","weather","weblink","domain","state","console","warn","Polymer","_template","html","_templateObject","is","behaviors","computeObjectId","entityId","substr","indexOf","fixedDeviceClassIcons","humidity","illuminance","temperature","pressure","power","signal_strength","stateIcon","domainIcons","binary_sensor","activated","device_class","cover","open","domain_icon","dclass","battery","Number","isNaN","batteryRound","Math","round","unit","unit_of_measurement","common_const","has_date","has_time","icon","compute_domain","HaConfigSection","PolymerElement","hass","type","narrow","Boolean","isWide","value","classes","debounce","func","wait","immediate","timeout","args","_i","arguments","length","context","callNow","clearTimeout","setTimeout","apply","compare","caseInsensitiveCompare","a","b","toLowerCase","computeEntityRegistryName","entry","name","states","_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_2__","updateEntityRegistryEntry","updates","callWS","removeEntityRegistryEntry","fetchEntityRegistry","conn","sendMessagePromise","subscribeEntityRegistryUpdates","store","subscribeEvents","_common_util_debounce__WEBPACK_IMPORTED_MODULE_3__","entities","setState","subscribeEntityRegistry","onChange","home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_1__","loadEntityRegistryDetailDialog","Promise","all","ha_config_entity_registry_HaConfigEntityRegistry","HaConfigEntityRegistry","tslib_es6","disconnectedCallback","_unsubEntities","_this","_entities","lit_element","localize","map","_openEditEntry","class_map","disabled-entry","disabled_by","state_icon","entity_registry","platform","firstUpdated","changedProps","updated","connection","sort","ent1","ent2","ev","element","systemLogDetailParams","currentTarget","updateEntry","_a","sent","ent","removeEntry","confirm","filter","fire_event","dialogTag","dialogImport","dialogParams","templateObject_5"],"mappings":"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","file":"chunk.e357d2c14afaacd7fea5.js","sourcesContent":["/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport {IronButtonState} from '@polymer/iron-behaviors/iron-button-state.js';\nimport {IronControlState} from '@polymer/iron-behaviors/iron-control-state.js';\n\n/*\n`PaperItemBehavior` is a convenience behavior shared by <paper-item> and\n<paper-icon-item> that manages the shared control states and attributes of\nthe items.\n*/\n/** @polymerBehavior PaperItemBehavior */\nexport const PaperItemBehaviorImpl = {\n  hostAttributes: {role: 'option', tabindex: '0'}\n};\n\n/** @polymerBehavior */\nexport const PaperItemBehavior =\n    [IronButtonState, IronControlState, PaperItemBehaviorImpl];\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/color.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"paper-item-shared-styles\">\n  <template>\n    <style>\n      :host, .paper-item {\n        display: block;\n        position: relative;\n        min-height: var(--paper-item-min-height, 48px);\n        padding: 0px 16px;\n      }\n\n      .paper-item {\n        @apply --paper-font-subhead;\n        border:none;\n        outline: none;\n        background: white;\n        width: 100%;\n        text-align: left;\n      }\n\n      :host([hidden]), .paper-item[hidden] {\n        display: none !important;\n      }\n\n      :host(.iron-selected), .paper-item.iron-selected {\n        font-weight: var(--paper-item-selected-weight, bold);\n\n        @apply --paper-item-selected;\n      }\n\n      :host([disabled]), .paper-item[disabled] {\n        color: var(--paper-item-disabled-color, var(--disabled-text-color));\n\n        @apply --paper-item-disabled;\n      }\n\n      :host(:focus), .paper-item:focus {\n        position: relative;\n        outline: 0;\n\n        @apply --paper-item-focused;\n      }\n\n      :host(:focus):before, .paper-item:focus:before {\n        @apply --layout-fit;\n\n        background: currentColor;\n        content: '';\n        opacity: var(--dark-divider-opacity);\n        pointer-events: none;\n\n        @apply --paper-item-focused-before;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","import { HassEntity } from \"home-assistant-js-websocket\";\nimport computeObjectId from \"./compute_object_id\";\n\nexport default (stateObj: HassEntity): string =>\n  stateObj.attributes.friendly_name === undefined\n    ? computeObjectId(stateObj.entity_id).replace(/_/g, \" \")\n    : stateObj.attributes.friendly_name || \"\";\n","import {\n  css,\n  CSSResult,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\n\nclass HaCard extends LitElement {\n  @property() public header?: string;\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        background: var(\n          --ha-card-background,\n          var(--paper-card-background-color, white)\n        );\n        border-radius: var(--ha-card-border-radius, 2px);\n        box-shadow: var(\n          --ha-card-box-shadow,\n          0 2px 2px 0 rgba(0, 0, 0, 0.14),\n          0 1px 5px 0 rgba(0, 0, 0, 0.12),\n          0 3px 1px -2px rgba(0, 0, 0, 0.2)\n        );\n        color: var(--primary-text-color);\n        display: block;\n        transition: all 0.3s ease-out;\n        position: relative;\n      }\n\n      .card-header,\n      :host ::slotted(.card-header) {\n        color: var(--ha-card-header-color, --primary-text-color);\n        font-family: var(--ha-card-header-font-family, inherit);\n        font-size: var(--ha-card-header-font-size, 24px);\n        letter-spacing: -0.012em;\n        line-height: 32px;\n        padding: 24px 16px 16px;\n        display: block;\n      }\n\n      :host ::slotted(.card-content:not(:first-child)),\n      slot:not(:first-child)::slotted(.card-content) {\n        padding-top: 0px;\n        margin-top: -8px;\n      }\n\n      :host ::slotted(.card-content) {\n        padding: 16px;\n      }\n\n      :host ::slotted(.card-actions) {\n        border-top: 1px solid #e8e8e8;\n        padding: 5px 16px;\n      }\n    `;\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      ${this.header\n        ? html`\n            <div class=\"card-header\">${this.header}</div>\n          `\n        : html``}\n      <slot></slot>\n    `;\n  }\n}\n\ncustomElements.define(\"ha-card\", HaCard);\n","import { Constructor } from \"lit-element\";\nimport \"@polymer/iron-icon/iron-icon\";\n// Not duplicate, this is for typing.\n// tslint:disable-next-line\nimport { IronIconElement } from \"@polymer/iron-icon/iron-icon\";\n\nconst ironIconClass = customElements.get(\"iron-icon\") as Constructor<\n  IronIconElement\n>;\n\nlet loaded = false;\n\nexport class HaIcon extends ironIconClass {\n  private _iconsetName?: string;\n\n  public listen(\n    node: EventTarget | null,\n    eventName: string,\n    methodName: string\n  ): void {\n    super.listen(node, eventName, methodName);\n\n    if (!loaded && this._iconsetName === \"mdi\") {\n      loaded = true;\n      import(/* webpackChunkName: \"mdi-icons\" */ \"../resources/mdi-icons\");\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-icon\": HaIcon;\n  }\n}\n\ncustomElements.define(\"ha-icon\", HaIcon);\n","/**\n * Return the icon to be used for a domain.\n *\n * Optionally pass in a state to influence the domain icon.\n */\nimport { DEFAULT_DOMAIN_ICON } from \"../const\";\n\nconst fixedIcons = {\n  alert: \"hass:alert\",\n  alexa: \"hass:amazon-alexa\",\n  automation: \"hass:playlist-play\",\n  calendar: \"hass:calendar\",\n  camera: \"hass:video\",\n  climate: \"hass:thermostat\",\n  configurator: \"hass:settings\",\n  conversation: \"hass:text-to-speech\",\n  device_tracker: \"hass:account\",\n  fan: \"hass:fan\",\n  google_assistant: \"hass:google-assistant\",\n  group: \"hass:google-circles-communities\",\n  history_graph: \"hass:chart-line\",\n  homeassistant: \"hass:home-assistant\",\n  homekit: \"hass:home-automation\",\n  image_processing: \"hass:image-filter-frames\",\n  input_boolean: \"hass:drawing\",\n  input_datetime: \"hass:calendar-clock\",\n  input_number: \"hass:ray-vertex\",\n  input_select: \"hass:format-list-bulleted\",\n  input_text: \"hass:textbox\",\n  light: \"hass:lightbulb\",\n  mailbox: \"hass:mailbox\",\n  notify: \"hass:comment-alert\",\n  person: \"hass:account\",\n  plant: \"hass:flower\",\n  proximity: \"hass:apple-safari\",\n  remote: \"hass:remote\",\n  scene: \"hass:google-pages\",\n  script: \"hass:file-document\",\n  sensor: \"hass:eye\",\n  simple_alarm: \"hass:bell\",\n  sun: \"hass:white-balance-sunny\",\n  switch: \"hass:flash\",\n  timer: \"hass:timer\",\n  updater: \"hass:cloud-upload\",\n  vacuum: \"hass:robot-vacuum\",\n  water_heater: \"hass:thermometer\",\n  weather: \"hass:weather-cloudy\",\n  weblink: \"hass:open-in-new\",\n};\n\nexport default function domainIcon(domain: string, state?: string): string {\n  if (domain in fixedIcons) {\n    return fixedIcons[domain];\n  }\n\n  switch (domain) {\n    case \"alarm_control_panel\":\n      switch (state) {\n        case \"armed_home\":\n          return \"hass:bell-plus\";\n        case \"armed_night\":\n          return \"hass:bell-sleep\";\n        case \"disarmed\":\n          return \"hass:bell-outline\";\n        case \"triggered\":\n          return \"hass:bell-ring\";\n        default:\n          return \"hass:bell\";\n      }\n\n    case \"binary_sensor\":\n      return state && state === \"off\"\n        ? \"hass:radiobox-blank\"\n        : \"hass:checkbox-marked-circle\";\n\n    case \"cover\":\n      return state === \"closed\" ? \"hass:window-closed\" : \"hass:window-open\";\n\n    case \"lock\":\n      return state && state === \"unlocked\" ? \"hass:lock-open\" : \"hass:lock\";\n\n    case \"media_player\":\n      return state && state !== \"off\" && state !== \"idle\"\n        ? \"hass:cast-connected\"\n        : \"hass:cast\";\n\n    case \"zwave\":\n      switch (state) {\n        case \"dead\":\n          return \"hass:emoticon-dead\";\n        case \"sleeping\":\n          return \"hass:sleep\";\n        case \"initializing\":\n          return \"hass:timer-sand\";\n        default:\n          return \"hass:z-wave\";\n      }\n\n    default:\n      // tslint:disable-next-line\n      console.warn(\n        \"Unable to find icon for domain \" + domain + \" (\" + state + \")\"\n      );\n      return DEFAULT_DOMAIN_ICON;\n  }\n}\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/*\nUse `<paper-item-body>` in a `<paper-item>` or `<paper-icon-item>` to make two-\nor three- line items. It is a flex item that is a vertical flexbox.\n\n    <paper-item>\n      <paper-item-body two-line>\n        <div>Show your status</div>\n        <div secondary>Your status is visible to everyone</div>\n      </paper-item-body>\n    </paper-item>\n\nThe child elements with the `secondary` attribute is given secondary text\nstyling.\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-item-body-two-line-min-height` | Minimum height of a two-line item | `72px`\n`--paper-item-body-three-line-min-height` | Minimum height of a three-line item | `88px`\n`--paper-item-body-secondary-color` | Foreground color for the `secondary` area | `--secondary-text-color`\n`--paper-item-body-secondary` | Mixin applied to the `secondary` area | `{}`\n\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        overflow: hidden; /* needed for text-overflow: ellipsis to work on ff */\n        @apply --layout-vertical;\n        @apply --layout-center-justified;\n        @apply --layout-flex;\n      }\n\n      :host([two-line]) {\n        min-height: var(--paper-item-body-two-line-min-height, 72px);\n      }\n\n      :host([three-line]) {\n        min-height: var(--paper-item-body-three-line-min-height, 88px);\n      }\n\n      :host > ::slotted(*) {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      :host > ::slotted([secondary]) {\n        @apply --paper-font-body1;\n\n        color: var(--paper-item-body-secondary-color, var(--secondary-text-color));\n\n        @apply --paper-item-body-secondary;\n      }\n    </style>\n\n    <slot></slot>\n`,\n\n  is: 'paper-item-body'\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/typography.js';\nimport './paper-item-shared-styles.js';\n\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\nimport {PaperItemBehavior} from './paper-item-behavior.js';\n\n/*\n`<paper-icon-item>` is a convenience element to make an item with icon. It is an\ninteractive list item with a fixed-width icon area, according to Material\nDesign. This is useful if the icons are of varying widths, but you want the item\nbodies to line up. Use this like a `<paper-item>`. The child node with the slot\nname `item-icon` is placed in the icon area.\n\n    <paper-icon-item>\n      <iron-icon icon=\"favorite\" slot=\"item-icon\"></iron-icon>\n      Favorite\n    </paper-icon-item>\n    <paper-icon-item>\n      <div class=\"avatar\" slot=\"item-icon\"></div>\n      Avatar\n    </paper-icon-item>\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-item-icon-width` | Width of the icon area | `56px`\n`--paper-item-icon` | Mixin applied to the icon area | `{}`\n`--paper-icon-item` | Mixin applied to the item | `{}`\n`--paper-item-selected-weight` | The font weight of a selected item | `bold`\n`--paper-item-selected` | Mixin applied to selected paper-items | `{}`\n`--paper-item-disabled-color` | The color for disabled paper-items | `--disabled-text-color`\n`--paper-item-disabled` | Mixin applied to disabled paper-items | `{}`\n`--paper-item-focused` | Mixin applied to focused paper-items | `{}`\n`--paper-item-focused-before` | Mixin applied to :before focused paper-items | `{}`\n\n*/\nPolymer({\n  _template: html`\n    <style include=\"paper-item-shared-styles\"></style>\n    <style>\n      :host {\n        @apply --layout-horizontal;\n        @apply --layout-center;\n        @apply --paper-font-subhead;\n\n        @apply --paper-item;\n        @apply --paper-icon-item;\n      }\n\n      .content-icon {\n        @apply --layout-horizontal;\n        @apply --layout-center;\n\n        width: var(--paper-item-icon-width, 56px);\n        @apply --paper-item-icon;\n      }\n    </style>\n\n    <div id=\"contentIcon\" class=\"content-icon\">\n      <slot name=\"item-icon\"></slot>\n    </div>\n    <slot></slot>\n`,\n\n  is: 'paper-icon-item',\n  behaviors: [PaperItemBehavior]\n});\n","/** Compute the object ID of a state. */\nexport default function computeObjectId(entityId: string): string {\n  return entityId.substr(entityId.indexOf(\".\") + 1);\n}\n","/** Return an icon representing a sensor state. */\nimport { HassEntity } from \"home-assistant-js-websocket\";\nimport { UNIT_C, UNIT_F } from \"../const\";\nimport domainIcon from \"./domain_icon\";\n\nconst fixedDeviceClassIcons = {\n  humidity: \"hass:water-percent\",\n  illuminance: \"hass:brightness-5\",\n  temperature: \"hass:thermometer\",\n  pressure: \"hass:gauge\",\n  power: \"hass:flash\",\n  signal_strength: \"hass:wifi\",\n};\n\nexport default function sensorIcon(state: HassEntity) {\n  const dclass = state.attributes.device_class;\n\n  if (dclass && dclass in fixedDeviceClassIcons) {\n    return fixedDeviceClassIcons[dclass];\n  }\n  if (dclass === \"battery\") {\n    const battery = Number(state.state);\n    if (isNaN(battery)) {\n      return \"hass:battery-unknown\";\n    }\n    const batteryRound = Math.round(battery / 10) * 10;\n    if (batteryRound >= 100) {\n      return \"hass:battery\";\n    }\n    if (batteryRound <= 0) {\n      return \"hass:battery-alert\";\n    }\n    // Will return one of the following icons: (listed so extractor picks up)\n    // hass:battery-10\n    // hass:battery-20\n    // hass:battery-30\n    // hass:battery-40\n    // hass:battery-50\n    // hass:battery-60\n    // hass:battery-70\n    // hass:battery-80\n    // hass:battery-90\n    // We obscure 'hass' in iconname so this name does not get picked up\n    return `${\"hass\"}:battery-${batteryRound}`;\n  }\n\n  const unit = state.attributes.unit_of_measurement;\n  if (unit === UNIT_C || unit === UNIT_F) {\n    return \"hass:thermometer\";\n  }\n  return domainIcon(\"sensor\");\n}\n","/** Return an icon representing a state. */\nimport { HassEntity } from \"home-assistant-js-websocket\";\nimport { DEFAULT_DOMAIN_ICON } from \"../const\";\n\nimport computeDomain from \"./compute_domain\";\nimport domainIcon from \"./domain_icon\";\n\nimport binarySensorIcon from \"./binary_sensor_icon\";\nimport coverIcon from \"./cover_icon\";\nimport sensorIcon from \"./sensor_icon\";\nimport inputDateTimeIcon from \"./input_dateteime_icon\";\n\nconst domainIcons = {\n  binary_sensor: binarySensorIcon,\n  cover: coverIcon,\n  sensor: sensorIcon,\n  input_datetime: inputDateTimeIcon,\n};\n\nexport default function stateIcon(state: HassEntity) {\n  if (!state) {\n    return DEFAULT_DOMAIN_ICON;\n  }\n  if (state.attributes.icon) {\n    return state.attributes.icon;\n  }\n\n  const domain = computeDomain(state.entity_id);\n\n  if (domain in domainIcons) {\n    return domainIcons[domain](state);\n  }\n  return domainIcon(domain, state.state);\n}\n","import { HassEntity } from \"home-assistant-js-websocket\";\n\n/** Return an icon representing a binary sensor state. */\n\nexport default function binarySensorIcon(state: HassEntity) {\n  const activated = state.state && state.state === \"off\";\n  switch (state.attributes.device_class) {\n    case \"battery\":\n      return activated ? \"hass:battery\" : \"hass:battery-outline\";\n    case \"cold\":\n      return activated ? \"hass:thermometer\" : \"hass:snowflake\";\n    case \"connectivity\":\n      return activated ? \"hass:server-network-off\" : \"hass:server-network\";\n    case \"door\":\n      return activated ? \"hass:door-closed\" : \"hass:door-open\";\n    case \"garage_door\":\n      return activated ? \"hass:garage\" : \"hass:garage-open\";\n    case \"gas\":\n    case \"power\":\n    case \"problem\":\n    case \"safety\":\n    case \"smoke\":\n      return activated ? \"hass:shield-check\" : \"hass:alert\";\n    case \"heat\":\n      return activated ? \"hass:thermometer\" : \"hass:fire\";\n    case \"light\":\n      return activated ? \"hass:brightness-5\" : \"hass:brightness-7\";\n    case \"lock\":\n      return activated ? \"hass:lock\" : \"hass:lock-open\";\n    case \"moisture\":\n      return activated ? \"hass:water-off\" : \"hass:water\";\n    case \"motion\":\n      return activated ? \"hass:walk\" : \"hass:run\";\n    case \"occupancy\":\n      return activated ? \"hass:home-outline\" : \"hass:home\";\n    case \"opening\":\n      return activated ? \"hass:square\" : \"hass:square-outline\";\n    case \"plug\":\n      return activated ? \"hass:power-plug-off\" : \"hass:power-plug\";\n    case \"presence\":\n      return activated ? \"hass:home-outline\" : \"hass:home\";\n    case \"sound\":\n      return activated ? \"hass:music-note-off\" : \"hass:music-note\";\n    case \"vibration\":\n      return activated ? \"hass:crop-portrait\" : \"hass:vibrate\";\n    case \"window\":\n      return activated ? \"hass:window-closed\" : \"hass:window-open\";\n    default:\n      return activated ? \"hass:radiobox-blank\" : \"hass:checkbox-marked-circle\";\n  }\n}\n","/** Return an icon representing a cover state. */\nimport { HassEntity } from \"home-assistant-js-websocket\";\nimport domainIcon from \"./domain_icon\";\n\nexport default function coverIcon(state: HassEntity): string {\n  const open = state.state !== \"closed\";\n  switch (state.attributes.device_class) {\n    case \"garage\":\n      return open ? \"hass:garage-open\" : \"hass:garage\";\n    case \"door\":\n      return open ? \"hass:door-open\" : \"hass:door-closed\";\n    case \"shutter\":\n      return open ? \"hass:window-shutter-open\" : \"hass:window-shutter\";\n    case \"blind\":\n      return open ? \"hass:blinds-open\" : \"hass:blinds\";\n    case \"window\":\n      return open ? \"hass:window-open\" : \"hass:window-closed\";\n    default:\n      return domainIcon(\"cover\", state.state);\n  }\n}\n","/** Return an icon representing an input datetime state. */\nimport domainIcon from \"./domain_icon\";\nimport { HassEntity } from \"home-assistant-js-websocket\";\n\nexport default function inputDateTimeIcon(state: HassEntity): string {\n  if (!state.attributes.has_date) {\n    return \"hass:clock\";\n  }\n  if (!state.attributes.has_time) {\n    return \"hass:calendar\";\n  }\n  return domainIcon(\"input_datetime\");\n}\n","import { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"../../resources/ha-style\";\n\nclass HaConfigSection extends PolymerElement {\n  static get template() {\n    return html`\n      <style include=\"iron-flex ha-style\">\n        .content {\n          padding: 28px 20px 0;\n          max-width: 1040px;\n          margin: 0 auto;\n        }\n\n        .header {\n          @apply --paper-font-display1;\n          opacity: var(--dark-primary-opacity);\n        }\n\n        .together {\n          margin-top: 32px;\n        }\n\n        .intro {\n          @apply --paper-font-subhead;\n          width: 100%;\n          max-width: 400px;\n          margin-right: 40px;\n          opacity: var(--dark-primary-opacity);\n        }\n\n        .panel {\n          margin-top: -24px;\n        }\n\n        .panel ::slotted(*) {\n          margin-top: 24px;\n          display: block;\n        }\n\n        .narrow.content {\n          max-width: 640px;\n        }\n        .narrow .together {\n          margin-top: 20px;\n        }\n        .narrow .header {\n          @apply --paper-font-headline;\n        }\n        .narrow .intro {\n          font-size: 14px;\n          padding-bottom: 20px;\n          margin-right: 0;\n          max-width: 500px;\n        }\n      </style>\n      <div class$=\"[[computeContentClasses(isWide)]]\">\n        <div class=\"header\"><slot name=\"header\"></slot></div>\n        <div class$=\"[[computeClasses(isWide)]]\">\n          <div class=\"intro\"><slot name=\"introduction\"></slot></div>\n          <div class=\"panel flex-auto\"><slot></slot></div>\n        </div>\n      </div>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      narrow: {\n        type: Boolean,\n      },\n\n      isWide: {\n        type: Boolean,\n        value: false,\n      },\n    };\n  }\n\n  computeContentClasses(isWide) {\n    var classes = \"content \";\n\n    return isWide ? classes : classes + \"narrow\";\n  }\n\n  computeClasses(isWide) {\n    var classes = \"together layout \";\n\n    return classes + (isWide ? \"horizontal\" : \"vertical narrow\");\n  }\n}\n\ncustomElements.define(\"ha-config-section\", HaConfigSection);\n","// From: https://davidwalsh.name/javascript-debounce-function\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n// tslint:disable-next-line: ban-types\nexport const debounce = <T extends Function>(\n  func: T,\n  wait,\n  immediate = false\n): T => {\n  let timeout;\n  // @ts-ignore\n  return function(...args) {\n    // tslint:disable:no-this-assignment\n    // @ts-ignore\n    const context = this;\n    const later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};\n","export const compare = (a: string, b: string) => {\n  if (a < b) {\n    return -1;\n  }\n  if (a > b) {\n    return 1;\n  }\n\n  return 0;\n};\n\nexport const caseInsensitiveCompare = (a: string, b: string) =>\n  compare(a.toLowerCase(), b.toLowerCase());\n","import { createCollection, Connection } from \"home-assistant-js-websocket\";\nimport { HomeAssistant } from \"../types\";\nimport computeStateName from \"../common/entity/compute_state_name\";\nimport { debounce } from \"../common/util/debounce\";\n\nexport interface EntityRegistryEntry {\n  entity_id: string;\n  name: string;\n  platform: string;\n  config_entry_id?: string;\n  device_id?: string;\n  disabled_by: string | null;\n}\n\nexport interface EntityRegistryEntryUpdateParams {\n  name?: string | null;\n  disabled_by?: string | null;\n  new_entity_id?: string;\n}\n\nexport const computeEntityRegistryName = (\n  hass: HomeAssistant,\n  entry: EntityRegistryEntry\n): string | null => {\n  if (entry.name) {\n    return entry.name;\n  }\n  const state = hass.states[entry.entity_id];\n  return state ? computeStateName(state) : null;\n};\n\nexport const updateEntityRegistryEntry = (\n  hass: HomeAssistant,\n  entityId: string,\n  updates: Partial<EntityRegistryEntryUpdateParams>\n): Promise<EntityRegistryEntry> =>\n  hass.callWS<EntityRegistryEntry>({\n    type: \"config/entity_registry/update\",\n    entity_id: entityId,\n    ...updates,\n  });\n\nexport const removeEntityRegistryEntry = (\n  hass: HomeAssistant,\n  entityId: string\n): Promise<void> =>\n  hass.callWS({\n    type: \"config/entity_registry/remove\",\n    entity_id: entityId,\n  });\n\nconst fetchEntityRegistry = (conn) =>\n  conn.sendMessagePromise({\n    type: \"config/entity_registry/list\",\n  });\n\nconst subscribeEntityRegistryUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    debounce(\n      () =>\n        fetchEntityRegistry(conn).then((entities) =>\n          store.setState(entities, true)\n        ),\n      500,\n      true\n    ),\n    \"entity_registry_updated\"\n  );\n\nexport const subscribeEntityRegistry = (\n  conn: Connection,\n  onChange: (entities: EntityRegistryEntry[]) => void\n) =>\n  createCollection<EntityRegistryEntry[]>(\n    \"_entityRegistry\",\n    fetchEntityRegistry,\n    subscribeEntityRegistryUpdates,\n    conn,\n    onChange\n  );\n","import { fireEvent } from \"../../../common/dom/fire_event\";\nimport {\n  EntityRegistryEntry,\n  EntityRegistryEntryUpdateParams,\n} from \"../../../data/entity_registry\";\n\nexport interface EntityRegistryDetailDialogParams {\n  entry: EntityRegistryEntry;\n  updateEntry: (\n    updates: Partial<EntityRegistryEntryUpdateParams>\n  ) => Promise<unknown>;\n  removeEntry: () => Promise<boolean>;\n}\n\nexport const loadEntityRegistryDetailDialog = () =>\n  import(/* webpackChunkName: \"entity-registry-detail-dialog\" */ \"./dialog-entity-registry-detail\");\n\nexport const showEntityRegistryDetailDialog = (\n  element: HTMLElement,\n  systemLogDetailParams: EntityRegistryDetailDialogParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-entity-registry-detail\",\n    dialogImport: loadEntityRegistryDetailDialog,\n    dialogParams: systemLogDetailParams,\n  });\n};\n","import {\n  LitElement,\n  TemplateResult,\n  html,\n  css,\n  CSSResult,\n  property,\n} from \"lit-element\";\nimport \"@polymer/paper-item/paper-icon-item\";\nimport \"@polymer/paper-item/paper-item-body\";\n\nimport { HomeAssistant } from \"../../../types\";\nimport {\n  EntityRegistryEntry,\n  computeEntityRegistryName,\n  updateEntityRegistryEntry,\n  removeEntityRegistryEntry,\n  subscribeEntityRegistry,\n} from \"../../../data/entity_registry\";\nimport \"../../../layouts/hass-subpage\";\nimport \"../../../layouts/hass-loading-screen\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-icon\";\nimport domainIcon from \"../../../common/entity/domain_icon\";\nimport stateIcon from \"../../../common/entity/state_icon\";\nimport computeDomain from \"../../../common/entity/compute_domain\";\nimport \"../ha-config-section\";\nimport {\n  showEntityRegistryDetailDialog,\n  loadEntityRegistryDetailDialog,\n} from \"./show-dialog-entity-registry-detail\";\nimport { UnsubscribeFunc } from \"home-assistant-js-websocket\";\nimport { compare } from \"../../../common/string/compare\";\nimport { classMap } from \"lit-html/directives/class-map\";\n\nclass HaConfigEntityRegistry extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public isWide?: boolean;\n  @property() private _entities?: EntityRegistryEntry[];\n  private _unsubEntities?: UnsubscribeFunc;\n\n  public disconnectedCallback() {\n    super.disconnectedCallback();\n    if (this._unsubEntities) {\n      this._unsubEntities();\n    }\n  }\n\n  protected render(): TemplateResult | void {\n    if (!this.hass || this._entities === undefined) {\n      return html`\n        <hass-loading-screen></hass-loading-screen>\n      `;\n    }\n    return html`\n      <hass-subpage\n        header=\"${this.hass.localize(\n          \"ui.panel.config.entity_registry.caption\"\n        )}\"\n      >\n        <ha-config-section .isWide=${this.isWide}>\n          <span slot=\"header\">\n            ${this.hass.localize(\n              \"ui.panel.config.entity_registry.picker.header\"\n            )}\n          </span>\n          <span slot=\"introduction\">\n            ${this.hass.localize(\n              \"ui.panel.config.entity_registry.picker.introduction\"\n            )}\n            <p>\n              ${this.hass.localize(\n                \"ui.panel.config.entity_registry.picker.introduction2\"\n              )}\n            </p>\n            <a href=\"/config/integrations\">\n              ${this.hass.localize(\n                \"ui.panel.config.entity_registry.picker.integrations_page\"\n              )}\n            </a>\n          </span>\n          <ha-card>\n            ${this._entities.map((entry) => {\n              const state = this.hass!.states[entry.entity_id];\n              return html`\n                <paper-icon-item\n                  @click=${this._openEditEntry}\n                  .entry=${entry}\n                  class=${classMap({ \"disabled-entry\": !!entry.disabled_by })}\n                >\n                  <ha-icon\n                    slot=\"item-icon\"\n                    .icon=${state\n                      ? stateIcon(state)\n                      : domainIcon(computeDomain(entry.entity_id))}\n                  ></ha-icon>\n                  <paper-item-body two-line>\n                    <div class=\"name\">\n                      ${computeEntityRegistryName(this.hass!, entry) ||\n                        `(${this.hass!.localize(\"state.default.unavailable\")})`}\n                    </div>\n                    <div class=\"secondary entity-id\">\n                      ${entry.entity_id}\n                    </div>\n                  </paper-item-body>\n                  <div class=\"platform\">\n                    ${entry.platform}\n                    ${entry.disabled_by\n                      ? html`\n                          <br />(disabled)\n                        `\n                      : \"\"}\n                  </div>\n                </paper-icon-item>\n              `;\n            })}\n          </ha-card>\n        </ha-config-section>\n      </hass-subpage>\n    `;\n  }\n\n  protected firstUpdated(changedProps): void {\n    super.firstUpdated(changedProps);\n    loadEntityRegistryDetailDialog();\n  }\n\n  protected updated(changedProps) {\n    super.updated(changedProps);\n    if (!this._unsubEntities) {\n      this._unsubEntities = subscribeEntityRegistry(\n        this.hass.connection,\n        (entities) => {\n          this._entities = entities.sort((ent1, ent2) =>\n            compare(ent1.entity_id, ent2.entity_id)\n          );\n        }\n      );\n    }\n  }\n\n  private _openEditEntry(ev: MouseEvent): void {\n    const entry = (ev.currentTarget! as any).entry;\n    showEntityRegistryDetailDialog(this, {\n      entry,\n      updateEntry: async (updates) => {\n        const updated = await updateEntityRegistryEntry(\n          this.hass!,\n          entry.entity_id,\n          updates\n        );\n        this._entities = this._entities!.map((ent) =>\n          ent === entry ? updated : ent\n        );\n      },\n      removeEntry: async () => {\n        if (\n          !confirm(`Are you sure you want to delete this entry?\n\nDeleting an entry will not remove the entity from Home Assistant. To do this, you will need to remove the integration \"${\n            entry.platform\n          }\" from Home Assistant.`)\n        ) {\n          return false;\n        }\n\n        try {\n          await removeEntityRegistryEntry(this.hass!, entry.entity_id);\n          this._entities = this._entities!.filter((ent) => ent !== entry);\n          return true;\n        } catch (err) {\n          return false;\n        }\n      },\n    });\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      a {\n        color: var(--primary-color);\n      }\n      ha-card {\n        margin-bottom: 24px;\n        direction: ltr;\n      }\n      paper-icon-item {\n        cursor: pointer;\n        color: var(--primary-text-color);\n      }\n      ha-icon {\n        margin-left: 8px;\n      }\n      .platform {\n        text-align: right;\n        margin: 0 0 0 8px;\n      }\n      .disabled-entry {\n        color: var(--secondary-text-color);\n      }\n    `;\n  }\n}\n\ncustomElements.define(\"ha-config-entity-registry\", HaConfigEntityRegistry);\n"],"sourceRoot":""}