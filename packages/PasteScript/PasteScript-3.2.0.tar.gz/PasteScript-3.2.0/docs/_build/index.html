
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Paste Script &#8212; Paste Script 1.7.5 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="News: Paste Script" href="news.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="paste-script">
<h1>Paste Script<a class="headerlink" href="#paste-script" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">author:</th><td class="field-body">Ian Bicking &lt;<a class="reference external" href="mailto:ianb&#37;&#52;&#48;colorstudy&#46;com">ianb<span>&#64;</span>colorstudy<span>&#46;</span>com</a>&gt;</td>
</tr>
<tr class="field-even field"><th class="field-name">revision:</th><td class="field-body">$Rev$</td>
</tr>
<tr class="field-odd field"><th class="field-name">date:</th><td class="field-body">$LastChangedDate$</td>
</tr>
</tbody>
</table>
<p>Contents:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="news.html">News: Paste Script</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer.html">Paste Script: Development</a></li>
</ul>
</div>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>If you are developer, see the <a class="reference external" href="developer.html">Developer Documentation</a>; this will tell you how to add commands and
templates to <code class="docutils literal notranslate"><span class="pre">paster</span></code>.  For a list of updates see the <a class="reference external" href="news.html">news file</a>.</p>
<p>Paste Script is released under the <a class="reference external" href="http://www.opensource.org/licenses/mit-license.php">MIT license</a>.</p>
</div>
<div class="section" id="status">
<h2>Status<a class="headerlink" href="#status" title="Permalink to this headline">¶</a></h2>
<p>Paste Script has passed version 1.0.  Paste Script is an actively
maintained project.  As of 1.0, we’ll make a strong effort to maintain
backward compatibility.  This will include deprecation warnings when
necessary.  Major changes will take place under new functions or with
new entry points.</p>
</div>
<div class="section" id="paster-create">
<h2><code class="docutils literal notranslate"><span class="pre">paster</span> <span class="pre">create</span></code><a class="headerlink" href="#paster-create" title="Permalink to this headline">¶</a></h2>
<p>This creates the skeleton for new projects.  Many different kinds of
projects have created skeletons for their projects (Pylons,
TurboGears, ZopeSkel, and others).</p>
<p>For a tutorial for making new skeletons, see <a class="reference external" href="http://lucasmanual.com/mywiki/PythonPaste">this tutorial from Lucas
Szybalski</a>.  It also
discusses creating new subcommands for paster.</p>
</div>
<div class="section" id="paster-serve">
<h2><code class="docutils literal notranslate"><span class="pre">paster</span> <span class="pre">serve</span></code><a class="headerlink" href="#paster-serve" title="Permalink to this headline">¶</a></h2>
<p>The one useful command you may want to know about for <code class="docutils literal notranslate"><span class="pre">paster</span></code> is
<code class="docutils literal notranslate"><span class="pre">paster</span> <span class="pre">serve</span></code>.  This serves an application described in a <a class="reference external" href="http://pythonpaste.org/deploy">Paste
Deploy</a> configuration file.</p>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>A quickstart (and example), if not complete explanation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">app</span><span class="p">:</span><span class="n">main</span><span class="p">]</span>
<span class="n">use</span> <span class="o">=</span> <span class="n">egg</span><span class="p">:</span><span class="n">PasteEnabledPackage</span>
<span class="n">option1</span> <span class="o">=</span> <span class="n">foo</span>
<span class="n">option2</span> <span class="o">=</span> <span class="n">bar</span>

<span class="p">[</span><span class="n">server</span><span class="p">:</span><span class="n">main</span><span class="p">]</span>
<span class="n">use</span> <span class="o">=</span> <span class="n">egg</span><span class="p">:</span><span class="n">PasteScript</span><span class="c1">#wsgiutils</span>
<span class="n">host</span> <span class="o">=</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span>
<span class="n">port</span> <span class="o">=</span> <span class="mi">80</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">egg:PasteEnabledPackage</span></code> refers to some package that has been
prepared for use with paste.deploy, and options given to that
package.  If you are starting out with some framework, you’ll have to
reference some documentation for that framework to paste-deploy-ify
your application (or read the paste.deploy documentation).</p>
<p>In the same file is a server description.
<code class="docutils literal notranslate"><span class="pre">egg:PasteScript#wsgiutils</span></code> is a server (named <code class="docutils literal notranslate"><span class="pre">wsgiutils</span></code>)
provided by this package, based on <a class="reference external" href="http://www.owlfish.com/software/wsgiutils/">WSGIUtils</a>.  And we pass various
options particular to that server.</p>
<p>Other packages can provide servers, but currently Paste Script
includes glue for these:</p>
<p><code class="docutils literal notranslate"><span class="pre">wsgiutils</span></code>:</p>
<blockquote>
<div>A <a class="reference external" href="http://python.org/doc/current/lib/module-SimpleHTTPServer.html">SimpleHTTPServer</a>
based threaded HTTP server, using <a class="reference external" href="http://www.owlfish.com/software/wsgiutils/">WSGIUtils</a>.</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">flup_(scgi|fcgi|ajp)_(thread|fork)</span></code>:</p>
<blockquote>
<div>This set of servers supports <a class="reference external" href="http://www.mems-exchange.org/software/scgi/">SCGI</a>, <a class="reference external" href="http://www.fastcgi.com/">FastCGI</a> and <a class="reference external" href="http://jakarta.apache.org/tomcat/connectors-doc/common/ajpv13a.html">AJP</a>
protocols, for connection an external web server (like Apache) to
your application.  Both threaded and forking versions are
available.  This is based on <a class="reference external" href="http://www.saddi.com/software/flup/">flup</a>.</div></blockquote>
<p>There is the start of support for <a class="reference external" href="http://twistedmatrix.com/projects/web2/">twisted.web2</a> in
<code class="docutils literal notranslate"><span class="pre">paste.script.twisted_web2_server</span></code>; patches welcome.</p>
</div>
<div class="section" id="running-the-server">
<h2>Running the Server<a class="headerlink" href="#running-the-server" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">paster</span> <span class="pre">serve</span> <span class="pre">--help</span></code> gives useful output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>usage: /usr/local/bin/paster serve [options] CONFIG_FILE [start|stop|restart|status]
Serve the described application

If start/stop/restart is given, then it will start (normal
operation), stop (--stop-daemon), or do both.  You probably want
``--daemon`` as well for stopping.

Options:
  -h, --help            show this help message and exit
  -v, --verbose
  -q, --quiet
  -nNAME, --app-name=NAME
                        Load the named application (default main)
  -sSERVER_TYPE, --server=SERVER_TYPE
                        Use the named server.
  --server-name=SECTION_NAME
                        Use the named server as defined in the configuration
                        file (default: main)
  --daemon              Run in daemon (background) mode
  --pid-file=FILENAME   Save PID to file (default to paster.pid if running in
                        daemon mode)
  --log-file=LOG_FILE   Save output to the given log file (redirects stdout)
  --reload              Use auto-restart file monitor
  --reload-interval=RELOAD_INTERVAL
                        Seconds between checking files (low number can cause
                        significant CPU usage)
  --status              Show the status of the (presumably daemonized) server
  --user=USERNAME       Set the user (usually only possible when run as root)
  --group=GROUP         Set the group (usually only possible when run as root)
  --stop-daemon         Stop a daemonized server (given a PID file, or default
                        paster.pid file)
</pre></div>
</div>
<p>Basically you give it a configuration file.  If you don’t do anything
else, it’ll serve the <code class="docutils literal notranslate"><span class="pre">[app:main]</span></code> application with the
<code class="docutils literal notranslate"><span class="pre">[server:main]</span></code> server.  You can pass in <code class="docutils literal notranslate"><span class="pre">--server-name=foo</span></code> to
serve the <code class="docutils literal notranslate"><span class="pre">[server:foo]</span></code> section (or even
<code class="docutils literal notranslate"><span class="pre">--server-name=config:foo.ini</span></code> to use a separate configuration
file).</p>
<p>Similarly you can use <code class="docutils literal notranslate"><span class="pre">--app-name=foo</span></code> to serve <code class="docutils literal notranslate"><span class="pre">[app:foo]</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">--daemon</span></code> will run the server in the backgroup, <code class="docutils literal notranslate"><span class="pre">--user</span></code> and
<code class="docutils literal notranslate"><span class="pre">--group</span></code> will set the user, as you might want to do from a start
script (run as root).  If you don’t give a <code class="docutils literal notranslate"><span class="pre">--pid-file</span></code> it will
write the pid to <code class="docutils literal notranslate"><span class="pre">paster.pid</span></code> (in the current directory).</p>
<p><code class="docutils literal notranslate"><span class="pre">--stop-daemon</span></code> will stop the daemon in <code class="docutils literal notranslate"><span class="pre">paster.pid</span></code> or whatever
<code class="docutils literal notranslate"><span class="pre">--pid-file</span></code> you give.  <code class="docutils literal notranslate"><span class="pre">--log-file</span></code> will redirect stdout and
stderr to that file.</p>
<p><code class="docutils literal notranslate"><span class="pre">--reload</span></code> will start the reload monitor, and restart the server
whenever a file is edited.  This can be a little expensive, but is
very useful during development.</p>
</div>
<div class="section" id="scripts">
<h2>#! Scripts<a class="headerlink" href="#scripts" title="Permalink to this headline">¶</a></h2>
<p>On Posix (Linux, Unix, etc) systems you can turn your configuration
files into executable scripts.</p>
<p>First make the file executable (<code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">+x</span> <span class="pre">config_file.ini</span></code>).  The
you should add a line like this to the top of the file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env paster</span>
</pre></div>
</div>
<p>You can include a command and command-line options in an <code class="docutils literal notranslate"><span class="pre">[exe]</span></code>
section, like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">exe</span><span class="p">]</span>
<span class="n">command</span> <span class="o">=</span> <span class="n">serve</span>
<span class="n">daemon</span> <span class="o">=</span> <span class="n">true</span>
<span class="n">user</span> <span class="o">=</span> <span class="n">nobody</span>
<span class="n">group</span> <span class="o">=</span> <span class="n">nobody</span>
</pre></div>
</div>
<p>(use <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code> for options that don’t take an argument).</p>
<p>If you use <code class="docutils literal notranslate"><span class="pre">daemon</span> <span class="pre">=</span> <span class="pre">true</span></code> then you’ll be able to use the script as
an rc script, so you can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo ./config_file.ini start
$ sudo ./config_file.ini restart
</pre></div>
</div>
<p>and so forth.</p>
<p>Note that this is a little wonky still on some platforms and shells
(notably it doesn’t work under <a class="reference external" href="http://www.faqs.org/faqs/unix-faq/shell/csh-whynot/">csh</a>).  If you get
an error about “Command config_file.ini not known” then this probably
won’t work for you.  In the future an additional script to <code class="docutils literal notranslate"><span class="pre">paster</span></code>
will be added just for this purpose.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">Paste Script</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="news.html">News: Paste Script</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer.html">Paste Script: Development</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="news.html" title="next chapter">News: Paste Script</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2011, Ian Bicking.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/index.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>