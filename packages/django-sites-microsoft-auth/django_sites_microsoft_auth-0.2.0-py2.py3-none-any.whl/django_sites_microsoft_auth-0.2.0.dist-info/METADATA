Metadata-Version: 2.1
Name: django-sites-microsoft-auth
Version: 0.2.0
Summary: Simple app to enable Microsoft Account, Office 365 Enterprise, Azure AD, and Xbox Live authentication as a Django authentication backend on a per-site basis.
Home-page: https://github.com/gskudder/django_sites_microsoft_auth
Author: Griffin Skudder
Author-email: griffin@skudder.co.nz
License: MIT license
Keywords: django_sites_microsoft_auth
Platform: UNKNOWN
Classifier: Development Status :: 5 - Production/Stable
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Natural Language :: English
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.5
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Framework :: Django :: 1.11
Classifier: Framework :: Django :: 2.0
Classifier: Framework :: Django :: 2.1
Requires-Dist: Django (>=1.11)
Requires-Dist: cryptography
Requires-Dist: pyjwt
Requires-Dist: requests
Requires-Dist: requests-oauthlib
Provides-Extra: dev
Requires-Dist: bandit ; extra == 'dev'
Requires-Dist: black ; extra == 'dev'
Requires-Dist: doc8 ; extra == 'dev'
Requires-Dist: flake8 ; extra == 'dev'
Requires-Dist: flake8-bugbear ; extra == 'dev'
Requires-Dist: flake8-builtins ; extra == 'dev'
Requires-Dist: flake8-commas ; extra == 'dev'
Requires-Dist: flake8-comprehensions ; extra == 'dev'
Requires-Dist: isort ; extra == 'dev'
Requires-Dist: sphinx ; extra == 'dev'
Requires-Dist: coverage ; extra == 'dev'
Requires-Dist: coveralls ; extra == 'dev'
Requires-Dist: pytest ; extra == 'dev'
Requires-Dist: pytest-cov ; extra == 'dev'
Requires-Dist: pytest-django ; extra == 'dev'
Requires-Dist: tox ; extra == 'dev'
Requires-Dist: versioneer ; extra == 'dev'
Requires-Dist: djangoql ; extra == 'dev'
Requires-Dist: pip-tools ; extra == 'dev'
Requires-Dist: sphinx-rtd-theme ; extra == 'dev'
Requires-Dist: twine ; extra == 'dev'
Provides-Extra: ql
Requires-Dist: djangoql ; extra == 'ql'
Provides-Extra: test
Requires-Dist: coverage ; extra == 'test'
Requires-Dist: coveralls ; extra == 'test'
Requires-Dist: flake8 ; extra == 'test'
Requires-Dist: pytest ; extra == 'test'
Requires-Dist: pytest-cov ; extra == 'test'
Requires-Dist: pytest-django ; extra == 'test'
Requires-Dist: tox ; extra == 'test'
Requires-Dist: versioneer ; extra == 'test'

=============================================
Django Sites Microsoft Authentication Backend
=============================================

.. image:: https://travis-ci.org/gskudder/django_sites_microsoft_auth.svg?branch=master
    :target: https://travis-ci.org/gskudder/django_sites_microsoft_auth
    :alt: Travis CI

.. image:: https://pyup.io/repos/github/gskudder/django_sites_microsoft_auth/shield.svg
    :target: https://pyup.io/repos/github/gskudder/django_sites_microsoft_auth/
    :alt: Updates

.. image:: https://readthedocs.org/projects/django-sites-microsoft-auth/badge/?version=latest
    :target: https://django-sites-microsoft-auth.readthedocs.io/en/latest/?badge=latest
    :alt: Documentation Status

.. image:: https://coveralls.io/repos/github/gskudder/django_sites_microsoft_auth/badge.svg?branch=pyup-initial-update
    :target: https://coveralls.io/github/gskudder/django_sites_microsoft_auth?branch=pyup-initial-update
    :alt: Coverage

.. image:: https://api.codeclimate.com/v1/badges/3370bb5f4ecee3af4ee0/maintainability
   :target: https://codeclimate.com/github/gskudder/django_sites_microsoft_auth/maintainability
   :alt: Maintainability

.. image:: https://api.codeclimate.com/v1/badges/3370bb5f4ecee3af4ee0/test_coverage
   :target: https://codeclimate.com/github/gskudder/django_sites_microsoft_auth/test_coverage
   :alt: Test Coverage

Simple app to enable Microsoft Account, Office 365 and Xbox Live authentcation
as a Django authentication backend that is compatible and configurable across multiple sites.


* Free software: MIT license
* Documentation: https://django-microsoft-auth.readthedocs.io.

Features
--------

* Provides Django authentication backend to do Microsoft authentication
  (including Microsoft accounts, Office 365 accounts and Azure AD accounts)
  and Xbox Live authentication.

* Provides Microsoft OAuth client to interfacing with Microsoft accounts

Python/Django support
---------------------

`django_sites_microsoft_auth` follows the same `support cycle as Django <https://www.djangoproject.com/download/#supported-versions>`_,
with one exception: no Python 2 support. If you absoutely need Python 2.7
support, everything should largely already work, but you may need to patch
`microsoft_auth.admin` and/or other files to get it to work.

Supported python versions:  3.5+

Supported Django version: 1.11 LTS, 2.1+

https://docs.djangoproject.com/en/stable/faq/install/#what-python-version-can-i-use-with-django

Note: Even though Django 1.11 LTS supports Python 3.4, I do not and you should
not either. Official support for 3.4 was dropped in March 2019.

Credits
-------

This package was created with Cookiecutter_ and the
`audreyr/cookiecutter-pypackage`_ project template.

.. _Cookiecutter: https://github.com/audreyr/cookiecutter
.. _`audreyr/cookiecutter-pypackage`: https://github.com/audreyr/cookiecutter-pypackage


=======
History
=======

2.3.1 (2019-7-20)
-----------------

* Fixes W002 being displayed if you set the SITE_ID setting
* Fixes migration except for non-SQLite DBs

2.3.0 (2019-6-2)
-----------------

* Adds Django cache support for OIDC config/JWKS

2.2.3 (2019-5-19)
-----------------

* Django settings trump Constance settings always now
* Fixes `microsoft.conf.config` not using Constance in some cases

2.2.2 (2019-5-8)
----------------

* Fixes Javascript typo

2.2.1 (2019-4-28)
-----------------

* Namespaces messages passed back as part of login

2.2.0 (2019-3-26)
-----------------

* Adds new setting for callback hook right before `auth_callback` view renders
  to override context data
* Adds example non-admin login form example in test site
* Renames `admin_login.js` and `admin_login.css` to just `login.js` and
  `login.css`

2.1.1 (2019-3-24)
-----------------

* Adds profile back as a default scope since Microsoft is added if it is not

2.1.0 (2019-3-23)
-----------------

* Adds support for multiple SITE_IDs. If the setting is not provided, it will
  pull it from the request object
* Adds new setting for callback hook after
  `microsoft_auth.backends.MicrosoftAuthenticationBackend` authenticates user.

2.0.1 (2019-3-19)
-----------------

* Removes `profile` from required scopes

2.0.0 (2019-3-19)
-----------------

* Replaces deprecated Microsoft auth scopes with proper OpenID Connect ones
    * WARNING: Breaking change. New scopes provide a new user id. See
      `migration docs <https://django-microsoft-auth.readthedocs.io/en/latest/usage.html#migrating-from-1-0-to-2-0>`_
      for details.
* Pulls authorization/token URLs directly from Microsoft
* Adds id token validation
* Admin pages for the auth type that is not enable is disabled by default now.
  They can be re-enabled with `MICROSOFT_AUTH_REGISTER_INACTIVE_ADMIN = True`
* Extra scopes can be provieded via the `MICROSOFT_AUTH_EXTRA_SCOPES` setting
  (space delimited). These scopes are *added* to the default required scopes
  (`openid email` for Microsoft Auth and
  `XboxLive.signin XboxLive.offline_access` for Xbox Live auth)

1.3.3 (2019-3-16)
-----------------

* Adds expiration to state values (hardcoded 5 minutes)

1.3.2 (2019-3-16)
-----------------

* Changes state validation to use cryptographic signing now. State
  validation should be signfincally more relaible now.

1.3.1 (2019-3-16)
-----------------

* Adds more logging around CSRF/State failures

1.3.0 (2019-3-5)
----------------

* Adds support for other tenant IDs for Microsoft
  authentication (thanks aviv)

1.2.1 (2019-2-28)
-----------------

* Adds missing migration for changing `microsoft_id` from 32 to 36 length

1.2.0 (2019-1-13)
-----------------

* Adds various checks and logging to validate setup to help with debugging
* Adds support for `http://localhost` as a redirect URI base if `DEBUG` is
  enabled
* Fixes Javascript message passing if using a non-standard port (something
  other than 80 or 443)

1.1.0 (2018-7-3)
----------------
* Removes o365 option. New authorization URL works well enough for both
    * Xbox Live Auth still uses old Microsoft Auth URL
    * 'o365' will still work as a MICROSOFT_AUTH_LOGIN_TYPE value,
      but you should change it to 'ma'
* Adds extras:
    * `ql`: DjangoQL package and support
    * `test`: test dependencies (same as test_requires packages)
    * `dev`: `ql`+`test` and extra dev only dependencies like
      `twine` and `pip-tools`
* Pip 10 support (thanks Shigumitsu!)
* Fixes max length of o365 IDs (thanks Shigumitsu!)

1.0.6 (2018-4-8)
----------------
* Added patched username validator to allow spaces for usernames for
  Xbox Live Gamertags

1.0.5 (2018-4-8)
----------------
* Added missing templates and static files to MANIFEST

1.0.4 (2017-12-2)
-----------------

* Updated Django category to include 2.0

1.0.3 (2017-12-2)
-----------------

* Updated for Django 2.0

1.0.2 (2017-11-27)
------------------

* Changed Development Status category to Stable

1.0.0 (2017-11-19)
------------------

* First release on PyPI.


