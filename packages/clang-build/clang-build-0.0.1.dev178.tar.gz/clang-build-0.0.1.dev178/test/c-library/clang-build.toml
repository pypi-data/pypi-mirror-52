name = "mainproject"

[myexe]
target_type = "executable"
dependencies = ["qhull.qhullcpp", "qhull.qhullstatic_r"]


################# Qhull #################

[[subproject]]
name    = "qhull"
url     = "https://github.com/qhull/qhull"
version = "v7.2.0"

# Qhull libraries

[subproject.qhull]
target_type = "shared library"
directory = "src/libqhull"
[subproject.qhull.flags]
compile = ["-Wno-deprecated-declarations"]

[subproject.qhull_r]
target_type = "shared library"
directory = "src/libqhull_r"
[subproject.qhull_r.flags]
compile = ["-Wno-deprecated-declarations"]

[subproject.qhullcpp]
target_type = "static library"
include_directories_public = ["src"]
sources = ["src/libqhullcpp/*.cpp"]
sources_exclude = ["src/libqhullcpp/qt-qhull.cpp", "src/libqhullcpp/usermem_r-cpp.cpp"]
[subproject.qhullcpp.flags]
compile = ["-Wno-deprecated-declarations", "-Wno-self-assign"]

[subproject.qhullstatic]
target_type = "static library"
include_directories_public = ["src"]
sources = ["src/libqhull/*.c"]
[subproject.qhullstatic.flags]
compile = ["-Wno-deprecated-declarations"]

[subproject.qhullstatic_r]
target_type = "static library"
include_directories_public = ["src"]
sources = ["src/libqhull_r/*.c"]
[subproject.qhullstatic_r.flags]
compile = ["-Wno-deprecated-declarations"]

# Qhull executables

[subproject.qhull-executable]
output_name = "qhull"
sources = ["src/qhull/unix_r.c"]
dependencies = ["qhullstatic_r"]

[subproject.rbox]
sources = ["src/rbox/rbox.c"]
dependencies = ["qhullstatic"]

[subproject.qconvex]
sources = ["src/qconvex/qconvex.c"]
dependencies = ["qhullstatic"]

[subproject.qdelaunay]
sources = ["src/qdelaunay/qdelaun.c"]
dependencies = ["qhullstatic"]

[subproject.qvoronoi]
sources = ["src/qvoronoi/qvoronoi.c"]
dependencies = ["qhullstatic"]

[subproject.qhalf]
sources = ["src/qhalf/qhalf.c"]
dependencies = ["qhullstatic"]