# Auto-generated by the Cortex Python SDK

FROM {{base_image}}

WORKDIR /function

{% if conda_requirements %}
RUN conda config --add channels conda-forge
COPY conda_requirements.txt .
RUN conda install --yes --file conda_requirements.txt
{% endif %}

RUN pip install "dill==0.2.8.2" "fdk==0.0.31" "cortex-client=={{cortex_sdk_version}}"

{% if requirements %}
COPY requirements.txt .
RUN pip install -r requirements.txt
{% endif %}

{% if deploy_archive %}
COPY action.tar .
RUN tar xf action.tar --strip 1
{% endif %}

COPY action.py .

ENTRYPOINT ["python", "action.py"]
