Vocabularies
============

Vocabularies are utilities containing a list of values grouped by interest or different Plone features.
For example, ``plone.app.vocabularies.ReallyUserFriendlyTypes`` will return all the content types registered in Plone.
The vocabularies return a list of objects with the items ``title`` and ``token``.

.. note::
	These docs are generated by code tests, therefore you will see some 'test' contenttypes appear here.

Get all vocabularies
--------------------

To retrieve a list of all the available vocabularies, send a GET request to the @vocabularies endpoint:

..  http:example:: curl httpie python-requests
    :request: ../../src/plone/restapi/tests/http-examples/vocabularies.req

The response will include a list with the URL (``@id``) the dotted names (``title``) of all the available vocabularies in Plone:

.. literalinclude:: ../../src/plone/restapi/tests/http-examples/vocabularies.resp
   :language: http

Get a vocabulary
----------------

To get a particular vocabulary, use the ``@vocabularies`` endpoint with the name of the vocabulary, e.g. ``/plone/@vocabularies/plone.app.vocabularies.ReallyUserFriendlyTypes``.
The endpoint can be used with the site root and content objects.

..  http:example:: curl httpie python-requests
    :request: ../../src/plone/restapi/tests/http-examples/vocabularies_get.req

The server will respond with a list of terms. The title is purely for display purposes.
The token is what should be sent to the server to retrieve the value of the term.

.. note::
    Vocabulary terms will be **batched** if the size of the
    resultset exceeds the batch size. See :doc:`/batching` for more
    details on how to work with batched results.

.. literalinclude:: ../../src/plone/restapi/tests/http-examples/vocabularies_get.resp
   :language: http

Filter Vocabularies
^^^^^^^^^^^^^^^^^^^

Vocabulary terms can be filtered using the ``title`` or ``token`` parameter.

Use the ``title`` paramenter to filter vocabulary terms by title.
E.g. search for all terms that contain the string ``doc`` in the title:

..  http:example:: curl httpie python-requests
    :request: ../../src/plone/restapi/tests/http-examples/vocabularies_get_filtered_by_title.req

.. literalinclude:: ../../src/plone/restapi/tests/http-examples/vocabularies_get_filtered_by_title.resp
   :language: http

Use the ``token`` paramenter to filter vocabulary terms by token.
This is useful in case that you have the token and you need to retrieve the ``title``.
E.g. search the term ``doc`` in the token:

..  http:example:: curl httpie python-requests
    :request: ../../src/plone/restapi/tests/http-examples/vocabularies_get_filtered_by_token.req

.. literalinclude:: ../../src/plone/restapi/tests/http-examples/vocabularies_get_filtered_by_token.resp
   :language: http

.. note::
    You must not filter by title and token at the same time.
    The API returns a 400 response code if you do so.
