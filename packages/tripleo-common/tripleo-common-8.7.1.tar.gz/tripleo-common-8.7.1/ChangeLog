CHANGES
=======

8.7.1
-----

* config-download: rename pre/post deployment hostvars
* Honor trash\_output when not using queue
* Stop sending execution object via Zaqar message
* Don't accumulate ansible output uselessly
* Fix dir when copying deployments.yaml
* Handle non-existant plan when getting deployment status
* Copy deployments.yaml to top level config-dir
* Pass execution\_id to tripleo.ansible-playbook
* Enable staging-ovirt (fence\_rhevm) fencing agent
* Use internal endpoints for configuration in octavia nodes
* Fix expensive api call to get deployment\_name
* Ensure that OctaviaServerCertsKeyPassphrase is 32-byte long
* Persist region name in overcloudrc
* Add ironic-neutron-agent container
* Install python2-networking-baremetal in neutron-server
* Make tempest container available on undercloud
* Fix regression in validation action
* Only update parameters once in backup workflow
* Handle failed nodes when enabling ssh admin

8.7.0
-----

* Add the ability to compute osds number counting lvm devices
* [CVE-2019-3895] Set image owner id
* Add passphrase generation for Octavia
* Workaround ssh\_known\_hosts changes not being propagated to containers
* Add XClarity in the list of supported hw types
* Don't use node count from failed stack parameters
* [Queens only] Set the deployment status on Mistral deployment tasks
* Standardise Workflow messaging and optionally persist messages
* Remove amp\_hw\_arch from octavia\_post
* OpenDev Migration Patch
* Add message to the Payload for update\_node task
* Upgrades: Don't try to publish ansible output in ceph\_install
* Fix running the baremetal provide workflow with node names
* Clean up node registration output
* Make MetricsQdr service use qdrouterd image
* Configurable host network for inventory
* Don't always validate heat stack when adding parameters
* Add workflow for plan deployment status
* Specify Octavia amphora image hw\_architecture property in Glance
* Workflow and action for deployment failures
* Run NetworkDeployment as async task
* Ansible json error callback plugin
* Stops growth of massive dentry cache growth

8.6.8
-----

* Skip deployments with no uuid
* Cleanup old MariaDB cruft from override file
* Don't fail tripleo-bootstrap on package installs
* Handle case change for dmidecode >= 3.1 in ceph-ansible workbook

8.6.7
-----

* Bump the Ceph container image to 3.2.1
* Publish a better failure message for Update Ansible
* Publish error for package\_update workflow
* Set heatclient exceptions to verbose
* Look for lower-case hostname when adding to ssh\_known\_hosts
* Fail node cleaning on timeout
* Increase size for security hardened images
* Fix AnsibleAction.run() when argument is not a dict
* IPMI doesn't mandate a username or password so tripleo shouldn't either
* IPv6 healthcheck fixes for nova-vnc-proxy
* Generating fencing for capitalized MACs
* Move Octavia config opts to common config directory
* Option to upload Octavia amphora img in RAW format
* Increase ansible gather\_timeout to 30secs for config-download
* Install python2-networking-ansible in neutron-server
* Bump the Ceph container image to 3.2.0
* Catch heat exceptions in DeployStackAction
* Switch scenarios to non-voting
* Correct handling of capabilities on node update
* [Queens only] Fix the default for docker registry
* Do not fail deploy for empty ceph ansible fetch directory
* Set SSH server keep alive options
* Revert "Fix nova-placement healthcheck"
* Make ODL healthcheck IPv6 compatible
* Switch stable scenarios to voting
* Add UEFI support for hardened images
* [Queens only] Fix syntax error
* Add httpd and mod\_ssl packages to octavia api image
* Add on-error task to parse\_node\_data\_lookup
* [Queens Only]Rename uwsgi-plugin-python to uwsgi-plugin-python2 for barbican
* Revert "Remove ceph-osd after deployment succeeded in containers"
* Fix nova-placement healthcheck
* Avoid getting one-empty-element-list in blacklisted\_hostnames
* Upgrade docker ceph container

8.6.6
-----

* Remove container\_registry parameter from update workflows
* Disable external plugins in rabbitmq container
* Add missing service for DockerCinderVolumeImage
* Remove container\_registry param from package update action
* Support deployment blacklist with --limit
* import zuul job settings from project-config
* Revert "Include microversion in OS\_VOLUME\_API\_VERSION"
* Remove ceph-osd after deployment succeeded in containers
* Use https for novnc proxy healthcheck if ssl\_only is configured
* Fix overwriting downloaded config files
* Set known hosts when --limit is set
* Set trash\_output for ceph-ansible playbook run
* kolla overrides: Remove yum cache

8.6.4
-----

* Include the stack name when generating the tripleo-ansible-inventory
* Take WSGIScriptAlias into account in docker healthcheck
* Add missing service for DockerCinderConfigImage
* Include 'tripleo\_role\_name' in the inventory
* Fix dynamic inventory
* Use hostnames in inventory
* ensure unique ironic node ID with UCS driver
* Include microversion in OS\_VOLUME\_API\_VERSION
* Remove role\_data from inventory
* Fix gnocchi\_statsd and ceilometer\_agent\_ipmi healthcheck
* Add --xattrs to sudoers
* Persist ceph-ansible fetch\_directory using mistral
* Updates OpenDaylight healthcheck URI
* Ignore errors when checking result of previous deployments
* Allow exit code of 0 only for deployments
* Retry previously failed deployments
* ansible: enable pipelining
* Fix ssh\_known\_hosts format
* Write to /etc/ssh with super user privileges
* Use ansible\_hostname
* Allow for more overhead in zaqar message
* Improve ssh connection handling
* Enable ControlMaster for ansible ssh
* Raise ansible forks to 25
* healthcheck/memcached: add brackets if ipv6
* Increase gb\_per\_osd from 3 to 5 in derive\_params\_formulas
* Retry inspect of container images
* Fixes ordering of environment files in a deployment plan
* Add docker packages to OVN metadata agent container
* Force lowercase hostnames

8.6.3
-----

* Switch ansible tmp for local connections
* Let TripleO generate ODLPassword
* Include --xattrs when creating the undercloud backup
* Provide timestamps in Ansible output by default
* Pass DockerCephDaemonImage to CephMgr
* Pass container and queue\_name inputs to the list\_available\_roles workflow
* Add keystone only job for queens
* Get deployment\_stack\_id via deployment\_ref for config download

8.6.2
-----

* Fix readme doc
* Increase services project secgroup-rules quotas when deploying Octavia
* Lowercase any hostname comparisons in bootstrap\_\* scripts
* Install Octavia amphora image if Red Hat
* Add special 'all' for deploy\_on\_servers server name to match all
* Fix redis healthcheck
* Remove horizon ui plugins we don't support
* Add a 'trash\_output' flag to ansible playbook action
* Increase services project quotas when deploying Octavia
* Persist package update ansible logs
* Run yum clean to reduce size of docker image layer
* Check pub key file perms and default to pub key data
* Add yum update to base
* Add validation for empty file system backup on Undercloud
* Script to update RPM's in containers
* Find deployment name in config download
* Octavia amphora image handles updates and symlinks
* Allow fencing config generation before deployment
* Use scheduler hints in derived\_parameters workflow
* Create keypair for SSH access to Octavia amphorae
* Add in a STOPSIGNAL configuration
* Activate another set of healthchecks
* Add healthcheck script for neutron-sriov-agent
* Add and fix healthcheck scripts for Octavia services
* Add healthcheck script for ceilometer-agent-compute
* Add healthcheck script for libvirtd
* Fix tarball generation when downloading logs
* Fix missing docker package in neutron L3 agent container
* Don't set deployments as hostvars
* Allow uploading big files to swift (5GB)
* Add healthcheck script for nova-metadata service
* Bump Ceph container image from 3.0.1 to 3.0.3
* Use ansible\_queue\_name only for upgrade/update

8.6.1
-----

* Only update plan on upgrade converge
* Fix healthcheck script for neutron-api service
* ffwd-upgrade cli - adds ffwd\_upgrade\_converge\_plan task for noops
* Add custom subclass to revert mapping
* Enforce env\_variables values to string before run
* Update converge workflow to remove no-ops
* Add docker packages to dhcp and l3 agent containers
* Fixes ODL healthcheck URI
* Use new ceph/daemon tags
* Fix parameter indentation on Swift rebalance playbook
* Force ANSIBLE\_CALLBACK\_WHITELIST to empty list for collect\_nodes\_uuid
* Fix error handling in set\_provision\_state/set\_power\_state workflows
* Defaults to parent\_resource name correctly
* Move health\_manager cfg section to octavia\_worker
* Check if plan\_env has resource\_registry key
* Fails to get DPDK feature status
* Fix missing permissions on Swift rebalance playbook
* Remove /etc/os-net-config/config.json in os-apply-config

8.6.0
-----

* Remove fence\_action parameter from GenerateFencingParametersAction
* Add openvswitch element back in
* Build images with a 4k block size filesystem
* Increase the image size for security hardened images to 23G
* Fail introspect\_manageable\_nodes if no nodes are manageable
* Remove the noop deploystep for upgrade converge step
* Improve messages on node state transitions
* Activate new healthchecks
* Wire up --skip-tags to the overcloud upgrade cli
* Ensure ceph-ansible playbooks are run one at a time
* Pass plan\_name into get\_config action
* Don't notify zaqar in publish\_ui\_logs\_to\_swift
* Include active nodes when matching nodes by profile
* Fixes OpenDaylight healthcheck
* Fix broken validations on stack update
* Updated from global requirements
* Update UPPER\_CONSTRAINTS\_FILE for stable/queens
* Update .gitreview for stable/queens

8.5.0
-----

* Use tenacity for image upload retries
* Add healthcheck script for Mistral API
* Add healthcheck script for Mistral event-engine
* Add healthcheck script for etcd
* Add healthcheck script for iSCSId
* Added networks\_skip\_config parameter to the roles file
* upgrade-non-controller.sh script does not support alternative plan names
* container-images: support cont. u/c w/ Redis
* Add healthcheck script for multipathd
* Add healthcheck script for Collectd
* Add healthcheck script for gnocchi-statsd
* Add healthcheck script for memcached
* Add healthcheck script for gnocchi-metricd
* Add healthcheck script for Aodh API
* Add healthcheck script for Tacker
* Add healthchecks for barbican containers
* Add healthcheck script for Neutron server
* Add healthcheck script for Cinder API
* Add healthcheck script for Gnocchi API
* container-images: support cont. u/c w/ HAproxy & keepalived
* Updated from global requirements
* Purge resolv.conf from the overcloud images
* Fix overcloud node delete after an upgrade
* Revert "Add healthchecks for barbican containers"
* Deprecate group:os-apply-config with config-download
* Fix overcloud export plan
* Fix the substitution of discovered tag
* Quote $@ in ansible-playbook-command.sh
* Add healthchecks for barbican containers
* Add upload plan-environment action for update and upgrade
* Handle None value for RoleConfig
* Set physical\_network on baremetal nodes
* Fix health check for ovn-metadata
* Refactor GUI logging to use message claims
* Updates ODL RPM to Oxygen
* Fix message type payload in rotate\_fernet\_keys workflow
* Fix baremetal introspection client creation
* Workaround reboot issue in Octavia hm interface template
* Add UC Backup Mistral workflow definition and actions
* Use an epoch as default, not a datetime
* Add keystoneclient to requirements.txt
* Support deprecated NIC config names for legacy roles
* Adds Workflow to Delete Deployment Plan
* Skip stack in-progress check
* jq is now required on the overcloud images
* Format group:ansible deployments
* Switch to tripleomaster registry
* Make the validations workflow a bit more robust
* Tolerate missing labels for prepare --tag-from-label
* Add support for multiple playbooks
* Make container image upload more resilient
* Alter default for --min-tmpfs
* Remove mongodb container image
* Add tripleo-ssh-known-hosts role
* Specify SSH server list when configuring octavia
* Updated from global requirements
* Remove unused gitdb dependency
* Zuul: Remove project name
* Select Roles Workflow
* Adds UpdateRoles Workflow
* Adds Workflow to List Available Roles
* Use extra\_vars to pass ireallymeanit
* Add UpdateNetworks workflow
* Add a Get Networks workflow
* Validate roles data and network data
* Use swift.put\_container action to create Swift rings backup
* Allow a combination of labels for tag discover

8.4.0
-----

* Install os-net-config as a package, not an element
* Add tempest container
* Improve debuggability of update workflow
* Updated from global requirements
* Remove step\_tags\_to\_when from config download and fix sorting
* Add healthcheck script for Redis
* Add healthcheck script for Panko API
* Remove RH1 OVB jobs from configuration
* Add healthcheck script for Nova placement API
* Use relative path for ansible role install
* Add Keepalived image
* Add more UndercloudCinder services to auto eval
* Make config-download workflow's verbosity configurable
* Updated from global requirements
* Skip unnecessary image uploads
* Discover every tag on prepare
* Re-enable voting on scenario002-container
* Octavia post deployment mistral wrapper
* Updated from global requirements
* Updated from global requirements
* Updated from global requirements
* Consume blacklisted\_ip\_addresses in workflows
* Use community packages for Sensu
* Fix OVN metadata agent container image footer
* Add missing support for the root\_device property
* [Sensu] Don't use gem based plugins
* Always pass the plan name to fernet workbook
* Add ansible playbook for configuring octavia
* Discover nova hosts in cells right before deployment
* Removed incorrect user input comments
* Manage legacy OS::TripleO::RandomString resources in constants
* Make plan\_name configurable for config\_download\_deploy
* Convert ansible action to TripleoInventory class
* Add get\_session function to base action class
* Revert "zuul: disable voting on scenario 001, 002 and 003"
* Add role\_data\* keys to inventory
* Switch static ansible inventory to yaml format
* Fail config-download when group:os-apply-config used
* Add new image for realtime computes
* Log any exceptions that occur in the tripleo.plan.update\_from\_dir action
* Use push\_destination as the registry host in env file
* Move more prepare logic into kolla\_builder
* Use skopeo for tag discover
* Add docs for reloading workbooks during development
* Update AnsibleGenerateInventoryAction to match new mistral interfaces
* Read the tftp IP to test from the command line
* Validate parameters before updating
* Install additional packages using kolla mechanism
* Lowering the number of ansible forks to 25
* kolla: override mysql packages for sensu

8.3.0
-----

* Allow passing extra vars when generating static inventory
* Add write\_static\_inventory to TripleoInventory class
* Optimize \_heat\_resource\_exists
* Add Sensu repo to override template
* zuul: disable voting on scenario 001, 002 and 003
* TripleoInventory make session optional
* Allow separate parameters to TripleoInventory class
* Parameterize Ansible environment vars in Mistral Workflow
* Fix authentication issue in Swift ring rebalance playbook
* Remove "overcloud-swift-rings" container during overcloud deletion
* Parse deploy\_status\_code vs status\_code in deployment workbook
* Cleanup mistral-api override
* SRIOV derive parameters workflows
* Updated from global requirements
* OvsDpdkSocketMemory MTU Roundup in bytes
* Inital import of tripleo ansible inventory code
* Add puppet-tripleo & python2-kubernetes
* Consume NodeDataLookup in ceph-ansible
* Break up messages to avoid max message size
* Get the config for update outside of package update
* Add OVN Metadata Agent to containerized environments
* Create config-download dir in tripleo-bootstrap role
* DPDK derive params network config validation
* Remove duplicate dictionary in zuul config
* Correct the container name confusion in the swift rings workflow
* Install openstack-heat-agents instead of python-heat-agent\*
* Added ability to generate kek for barbican simple crypto backend
* Remove jq package install
* Correct a task name in create\_swift\_rings\_backup\_container\_plan
* Reduce the calls to heat when downloading config
* DPDK derive params inputs default value update
* Concurrent upload container images
* Comment out tacker image until service is ready
* Handle error in the deploy\_on\_server workflow
* Implement post-upload cleanup of docker images
* Introduce tripleo-bootstrap Ansible role
* Fix step\_config output which is str not list
* Include barbican worker and listener images if API is enabled

8.2.0
-----

* Avoid tox\_install.sh for constraints support
* IPv6 healthcheck fixes for Glance/Swift
* Move scenario001 and scenario003 back to the gate
* Pass the execution id to AnsibleAction
* Add --ansible-opts for upgrade-non-controller.sh O->P upgrade
* Tolerate ports in tag discover
* Add support for ceph\_rbdmirror\_ansible\_vars from tht
* Add UndercloudCinder services to auto evaluations
* Add DesignatePassword
* Updated from global requirements
* Consume resource-registry in ProcessTemplatesAction
* Prevent apache from listening on default ports
* Log the error from OrchestrationDeployAction
* Memory channels parameter is not derivable
* Handle ansible-playbook failure for config-download
* Add reproduce\_command option
* Memoize docker uploader
* Finish deprecation of pull\_source
* Add Ansible playbook/workflow to rebalance Swift rings
* Stop setting IRONIC\_API\_VERSION and OS\_BAREMETAL\_API\_VERSION in overcloudrc
* Support enrolling nodes with staging-ovirt hardware type
* Add exclude list to not override user data
* config: Always add step conditional first for upgrade\_tasks
* Handle 'false' in when statements for ansible upgrade\_tasks
* Switch to use sessions on zaqar, nova and swift
* Fix chown command for tripleo validation
* Add the RootStackName parameter to the plan
* Make scenario007-container voting
* Pass queue\_name to tripleo.ansible-playbook
* Add the major upgrade converge in the update workbook
* Remove scenario003 from the gate
* Stream the Ansible output to a Zaqar queue
* Update ceph-ansible playbook path in parameter default for update
* Add the horizon url to the payload
* Correct the failed status in the baremetal workflow
* Switch the default Ceph container image from Jewel to Luminous
* Add zaqarclient to TripleOAction
* Cast content-length to an int when comparing sizes
* Add httpd packages to ec2api image
* Optimize opendaylight\_api container healhcheck
* Fluentd: rename fluentd service
* Add support for CephMgr in the ceph-ansible workflow
* Migrate tripleo-common to zuul v3 jobs
* Generate password for libvirt TLS SCRAM auth
* Add work\_dir for some actions
* Log Ansible actions to ansible.log
* Add workflow for deployment via config-download
* Raise stored HTTPError when fetching swift object
* Add rsyslog sidecar image for container image prepare
* Skip hidden files in test\_tags\_are\_set
* Move defaults out of overcloud\_containers.yaml.j2
* Updated from global requirements
* Switch to ceph luminous
* Truncate the zaqar message to 512 kbytes
* Workflow to get Horizon URL endpoint
* Fail ceph-ansible workflow if there is stale puppet-ceph hieradata
* Add ansible and pyton-shade to the base image
* Do not update the container registry if is None
* Healthcheck for nova\_migration\_target container
* Add Barbican worker and keystone listener images
* Remove references to the current task from task() in baremetal.yaml
* Additional tests for config-download
* Remove Pike-only migration steps
* Fix typos in container\_images\_prepare failure task names
* Retry the check\_default\_nodes\_count workflow for 2 minutes
* Adds detection for legacy API network resource
* Add novajoin images
* Only generate keystone v3 enabled overcloudrc's
* Revert "Remove references to the current task from task() in baremetal.yaml"
* Remove references to the current task from task() in ceph-ansible.yaml
* Remove references to the current task from task() in baremetal.yaml
* Use ANSIBLE\_HOST\_KEY\_CHECKING var instead of ssh-common-args
* Accept glance image ID in addition to name
* Add missing IronicInspector service
* chown fernet keys to match container's keystone user and group
* Remove references to the current task from task() in deployment.yaml
* Remove references to the current task from task() in plan\_management.yaml
* Remove references to the current task from task() in package\_update.yaml
* Remove references to the current task from task() in access.yaml
* Fix nova\_vnc\_proxy, ceilometer\_agent\_central and aodh\_evaluator health check
* Remove references to the current task from task() in stack.yaml
* Remove references to the current task from task() in validations.yaml
* Allow running mistral-api service via wsgi in container
* Get a static inventory for upgrade-non-controller ansible runs
* Allow processing external\_deploy\_steps\_tasks
* Default DockerCephDaemonImage to stable, not master, tag
* Adds --overcloud-user option to upgrade-non-controller.sh

8.1.0
-----

* Do not rely on openstack-puppet-modules
* Config download support for all deployments
* Update list of supported drivers, hardware types and their properties
* Add user and project\_user\_domains to novaclient
* Action to always populate container image parameters
* Ensure ssh key is active before returning from create\_admin\_via\_nova
* Don't wait for stack in progress in delete

8.0.0
-----

* Enhances Roles List
* Update and replace http with https for doc links
* Add module\_path as option for ansible-playbook action
* Updated from global requirements
* Bring the keystone utils up-to-date with Mistral
* Add release note for minor update workflow
* Add Mistral workbook to deploy Skydive using ansible
* Fixup upgrade-non-controller to also accept IP address
* Take wwn\_with\_extension into account, when configuring a boot device
* Execute minor update via ansible on mistral
* Allow nfs-ganesha setup in ceph-ansible workbook
* Add ironic api/pxe health checks during kolla build
* Handle nodes that failed to start introspection
* Fix missed HEALTHCHECK directive in template override
* Fix healthchecks permissions
* Add retry loop for docker pull
* Add OVN container images to TripleO-common
* Fix running complex command lines via bootstrap\_host\_exec
* Fix chown command in sudoers file
* Add logging to capabilities filter
* Add healthcheck for ODL container
* Add ODL repo to override template
* Format and send the retry-limit reached message
* Always use docker.io for ceph\_namespace
* Always finish by sending a Zaqar message on error
* Add the Node UUID to the failure messages from the \_introspect workflow
* Add ODL container images to TripleO-common
* Updated from global requirements
* Remove healthcheck command
* Define ceph image in overcloud\_containers.yaml.j2
* Add "tripleo-common-managed" to all workflows in tripleo\_common
* Add selinux policy rpms to base container image
* Fix the path to HEALTHCHECK\_SCRIPTS in healthcheck/ironic-api
* Add health check command for ironic-pxe image
* Added a kolla config file for building contaner images with qemu uid
* Don't mock mkdtemp in test\_plan.py either
* Parse ceph\_client\_ansible\_vars in ceph-ansible workbook
* Derive Params failure message format change
* Derive params network config stack exists fix
* Derive params support for ODL DPDK feature
* Run fluentd container
* Add SRIOV container image parameter generation
* Add missing BarbicanApi service
* Don't mock mkdtemp
* Add less verbosity for fernet keys ansible playbook
* Ensure that GetHostCpusListAction.run() returns a deterministic result
* Add missing OVN container service entries
* Use Python to compute release notes version
* Fix port health check false negatives
* Support fernet key rotation with containers
* Make curl healthchecks work with internal TLS
* Derive Params OvsPmdCoreList compute issue
* Add clustercheck healthcheck
* Discover a versioned container image tag
* Upload remove default for pull\_source
* Use CephAnsibleDisksConfig when deriving HCI parameters
* Updated from global requirements
* Add stunnel to redis image for tls
* Update reno for stable/pike

7.5.0
-----

* Make Ansible env variables configurable
* Map ContainersLogrotateCrond service to cron image
* Set healthchecks executable
* Configure mistral event engine container
* Add Qdrouterd to the overcloud containers
* Use NovaVcpuPinSet when deriving HCI parameters
* CPU threads range format for derive parameters
* Add NovaMetadata to nova-api image params
* overcloud\_containers.yaml.j2 map images to services
* Automatically retry introspection for failing nodes
* Set resource\_class=baremetal for newly enrolled nodes
* Publish logs before exporting them
* Use correct path in healthcheck scripts
* Add logrotate-crond container images params
* Add Barbican Config Image to overcloud containers
* Add hypen to the prefix/suffix of container name if not provided
* Download and run upgrade/deploy\_steps\_playbooks for upgrade
* Provide a list of unused user env parameters in plan
* Add OVN images to the overcloud containers
* Add GUI logging workflows
* Parameterize Ansible skip\_tags
* Add health checks during kolla build
* Use nova-api image for configuration as well
* Default to host CPU architecture if none is supplied
* Add ironic-api healthcheck
* Prompt to clear breakpoints when using deployed-server
* Allow tripleo-admin creation both for Nova-managed and split-stack
* Pass UserKnownHostsFile and deploy ssh key
* Host derive params default hugepage flag fix
* Remove uwsgi-plugin-python from barbican-api image
* Fixup EPEL comments
* Bump the default bare metal (ironic) API version in the overcloud to 1.34
* healthchecks: service checks for rabbit, swift-\*, mysql

7.4.0
-----

* Allow setting \*\_interface fields via instackenv.json
* [refactoring] stop using pxe\_ssh as the default drivers in tests
* Add health check for services connected to RabbitMQ
* healthchecks: implement service-specific checks
* Update the documentation link for doc migration
* Do not list Ceph specific image in overcloud\_images.yaml.j2
* Update .gitignore
* tripleo-common sudoers file is to permissive
* Pass all network data to render network/port templates
* Add DockerIronicApiConfigImage
* Add workflow for IPMI nodes discovery
* Add error message if no bare metal nodes available
* Update URL home-page in documents according to document migration
* Remove EPEL and it's dependencies with Kolla overrides (take two)
* Revert "Remove EPEL in TripleO's Kolla template\_overrides"
* Consume ceph-ansible vars from the execution environment
* healthchecks: start to implement container healthchecks
* Add heat-all container
* Add manila-share images
* Updated from global requirements
* Add missing DockerMysqlClientConfigImage
* Remove EPEL in TripleO's Kolla template\_overrides
* Copyright content changes
* Derive deployment parameters for HCI
* Don't call safe\_dump if the param is already str
* Updated from global requirements
* Containarize Barbican
* Set version=auto when creating docker client
* Method name format changes
* Remove xinetd package in containerized env
* Switch from oslosphinx to openstackdocstheme
* DPDK and Host derive parameters workflows
* Map container image entries to stack params
* Updated from global requirements
* Remove support for py34
* Upgrade from docker-py to docker
* Configure ceph clients with ceph-ansible
* Add OVN container images
* Add ironic-inspector image
* Add Mistral workbook to call ceph-ansible to install Ceph
* Drop MANIFEST.in - it's not needed by pbr
* Fix files actions run() method
* Create /etc/ssh/ssh\_known\_hosts on base image
* Include cron in container images
* Remove the unused exception PlanOperationError
* Remove the unused scale module
* Add Mistral file actions to tripleo-common
* Use six to correctly handle text in Python 2 and 3 in the Role schema

7.3.0
-----

* Updated from global requirements
* Add python 3.5 in classifier and envlist
* Switch the ansible actions over to mistral-lib
* Add workbook to rotate fernet keys
* Create ansible config file and disable retry files
* Enable passing extra environment variables to ansible commands
* Remove the dependancy on Mistral
* use Result from mistral\_lib instead of mistral

7.2.0
-----

* Derive Params (part 2): Get services and feature list
* Return the stdout of the kolla-build run
* Make overcloud\_containers.yaml template driven
* Add tags and skip-tags options to Mistral Ansible actions
* Pass correct message to Zaqar in case of plan export failure
* Add option to get credentials from mistral context for ansible actions
* Write action to get private key from the validations keypair
* Set perms to 0600 for the ssh key file
* Change cwd and set HOME for ansible actions
* Use tempdir instead of files for ansible-action
* Fix plan export
* Enable key rotation action and add release note
* When enrolling Dell nodes, use drac\_address instead of deprecated drac\_host
* Switch to RDO packages for HA support in Kolla images
* Updated from global requirements
* Do not try to validate nodes that are not available
* Add fernet keys purging based no t-h-t parameter
* Move roles utilities to common
* Define default Image and Volume API versions in overcloudrc
* Workflow to get the list of deprecated parameters from the plan
* Create mistral action to rotate fernet keys from passwords variable
* Add KeystoneFernetKeys to generated passwords
* Updated from global requirements
* Add missing haproxy container image
* Add collectd container
* Fix wrong use of \`ansible-playbook\`
* Remove 'ntpd' package from some image-yaml files
* Add manila container images
* Add EC2-API container image
* Add container image for nova-consoleauth and nova-novncproxy
* Remove deprecated docker.py insecure\_registy argument
* Adds ansible actions
* Derive Params (part 1): Initial workflow to start
* Fix a broken YAQL expression marker in the plan\_management workbook
* Pass network\_data into per-role j2 templating
* Pass all role data into role templates when rendering
* Add missing cinder container images
* Use Swift to store Plan environment
* Do not use multiple overrides with the same name
* Using assertIsNone(xxx) instead of assertEqual(None, xxx)
* Updated from global requirements
* Add required packages for nova migration
* Add xinetd package to swift\_object container
* Remove symlinks causing hiera hook to exit early
* Use the mistral-lib actions
* Add tacker container images
* Add congress container images
* Add ceilometer ipmi container images

7.1.0
-----

* Ensure Swift Rings backup container and URLs
* Adding the option for the stack id to stack delete
* Shorten names and rebase hardened images
* kolla template overrides for A/P HA services managed by pacemaker
* Re-add hardened image definition as separate yaml
* Revert "Add creation of security hardened images"
* Add novajoin password
* Start using generic dracut-regenerate element
* Run also sensu-client containers
* Add creation of security hardened images
* Replace swiftclient with openstackclient
* Fix password generation for default plan creation
* Add Neutron SR-IOV agent container to overcloud containers
* Parse roles from roles\_data.yaml directly
* kolla template overrides for pacemaker HA containers
* Use assertIsNone instead of assertEqual(None, \*\*\*)
* Make DockerImageUploader work with missing tags
* Updated from global requirements
* Add octavia container images
* Replace assertRaisesRegexp with assertRaisesRegex
* Updated from global requirements
* Add ceph/daemon image to undercloud registry
* Move openstack-tripleo-common to mistral base image
* Run introspection 20 nodes at a time
* Add mistral-event-engine image
* Fix calls to tripleo.git.clone action
* Add galera support in mysql container image
* Add rsync to base image
* move mistral base action dependency to mistral\_lib
* Add cinder container images
* Install openstack-tripleo-common-container-base
* Add an action to fetch and flatten the heat resource tree and parameters
* Add httpd packages to neutron server image
* Add httpd packages to glance API image
* Add httpd packages to swift proxy image
* Add bootstrap\_host\_exec to setup.cfg scripts
* Add a bootstrap\_host\_exec CMD
* Add log capturing support workflows
* Correct message format for plan\_management workbook
* Add sahara docker containers
* Remove update abort
* Add support for enrolling nodes with Redfish hardware type
* Move the gathering of flavors into the CollectFlavors action
* Fix the reporting from the pre-deployment checks workflows
* Add ceilometer agent images
* Add horizon container
* Remove log translations
* Add etcd image to overcloud containers
* Ignore '\_comment' as a invalid field in instackenv.json

7.0.0
-----

* Fix undercloud host discovery logic
* Updated from global requirements
* Remove ntp element
* add caching the GetParametersAction
* Add workflow wrapping all predeployment checks
* Implement check node counts as a custom action
* Implement verify profiles as a custom action
* Implement check ironic boot configuration as a custom action
* Workflow to select nodes matching a profile/role
* Remove legacy hiera element
* Implement check flavors as a custom action
* Implement check boot images as a custom action
* Rename contrib to container-images for packaging

7.0.0.0b1
---------

* Add support for enrolling nodes with "ipmi" hardware type
* Remove Percona-Server-shared-56 from openstack-base image
* Updated from global requirements
* Add skip\_deploy\_identifier
* Add MigrationSshKey to generated passwords
* Create or update deployment plan from git repository
* Add redis images to overcloud containers
* Handle re-created resources in StackUpdateManager
* Fix using old Swift rings when creating a new stack
* configure\_container: remove os-cloud-config
* Fix broken command prompt
* Switch trunk/cbs/buildlogs to use https
* Extend testing for GenerateFencingParamatersAction
* Add plan export action and workflow
* Library wrapper around kolla-build tool
* Rename 'uploads' key to 'container\_images'
* overcloud\_containers.yaml defaults
* Generate EtcdInitialClusterToken
* Enhance plan creation and update with plan-environment
* Updated from global requirements
* Remove machine-id from image
* overcloudrc: set OS\_AUTH\_TYPE
* Handle unprovisioned Ironic nodes in fencing parameter generator
* UpdateCapabilitiesAction add purge\_missing option
* Updated from global requirements
* Replace six.iteritems() with .items()
* Replaces yaml.load() with yaml.safe\_load()
* Add stack name indicator to overcloudrc
* Add heat-api-cloudwatch container
* Validate nodes\_json before trying to register or updates any nodes
* Make fencing action parameter optional
* Add telemetry docker images to overcloud containers
* Add neutron-metadata agent container image
* Updated from global requirements
* Add neutron-l3 agent container image
* Fix Swift ring deployment and Newton to Ocata upgrades
* Update to a newer hacking library
* Fix typo in package\_update.yaml
* Add pull-puppet-modules script to binaries
* Fix wrong args to update manager
* Add TripleO template overrides file
* Add missing container images
* Add support for network\_data.yaml to process templates action
* Use latest containers for master branch
* Allow pushing docker images to host's ctl plane IP
* Use kwargs to pass in 'error' to a Mistral Result
* Update the Nova client creation
* Open log in utf-8 to prevent UnicodeEncodeError
* Update reno for stable/ocata
* Use the builtin Mistral engine command 'fail' when failing workflows

5.8.0
-----

* Updated from global requirements
* Bump OS\_BAREMETAL\_API\_VERSION to 1.29
* Force DIB\_PYTHON\_VERSION to be 2
* Re-enable tee behavior for image builds
* Just set the breakpoints on args passed to heat update
* [trivial] Remove broken link
* Fix race in undercloud cell\_v2 host discovery
* Fix error message when failing to remove breakpoint
* Adds basic logging to the upgrade-non-controller.sh utility
* Updated from global requirements
* Add release notes since 5.7.0
* Fix class constructors
* Add missing linebreak in delorean-current.repo
* Add utility functions for deleting/emptying swift containers
* Run nova manage cell\_v2 discover\_host after ironic nodes are registered
* Add support for calling validations in deploy and introspect workflows
* Add support for jinja2 includes
* Use Mistral to create Swift temporary URLs
* Install python-heat-agent-json-file in overcloud-full
* Add action for generating fencing parameters
* Adding release nodes for Congress and Tacker
* Adding CongressPassword to constants
* Adding TackerPassword to constants
* Add element to regenerate dracut
* Add a 'manage' workflow
* Remove extraneous whitespace from baremetal.yaml
* Release notes for 5.8.0 (final Ocata)
* Updated from global requirements
* overcloud: include ntp element
* Add the iptables element to the image building process
* Add a delete stack workflow
* Add element to regenerate dracut on the agent
* Fix delete\_node failures
* Add a PacemakerRemoteAuthkey to the default passwords
* Add password and key generation for Octavia
* Provided an option to disable the password generation
* Set imageext for IPA ramdisk
* Updated from global requirements
* Add Constraints support
* Fail the deployment workflows when sending a "FAILED" message
* Fail the scale workflows when sending a "FAILED" message
* Fail the validation workflows when sending a "FAILED" message
* Fail the baremetal workflows when sending a "FAILED" message
* Fail the plan\_management workflows when sending a "FAILED" message
* Add ReNo support
* Generate a CephX for manila ceph client service
* Generate a CephX for the new Ceph MDS service
* A script that pulls the latest puppet source
* Only start the deploy if the Heat stack isn't already in progress
* User provided pwd has to be merged for get\_passwords workflow
* Add python-heat-agent-json-file to the heat docker agent
* Sync template processing
* Removes unnecessary utf-8 coding
* Force qemu logging to file
* Updated from global requirements
* Adds output for failure cases to delete plan action
* Add support for initial state to the register\_or\_update workflow
* When making sub-workflow calls, pass the queue\_name
* Validate the plan name before running
* Add missing packages to agent container
* Install python-heat-agent-docker-cmd in overcloud-full
* Use packaged docker-cmd hook in heat-agents
* Block the scale down workflow until the stack is COMPLETE or FAILED
* Don't require mistralclient for password gen
* Heat-agents container: set up trunk repos correctly
* Implement stack update as mistral actions
* Remove unused exception HeatValidationFailedError
* Remove unused exception ContainerAlreadyExistsError
* Remove the unused constant OBJECT\_META\_KEY\_PREFIX

5.7.0
-----

* Add utility workflow to wait for stack COMPLETE or FAILED
* Add FreeIPA enrollment environment generator
* Remove remaining vendor plugins from default image YAML
* Get config files for all openstack\* packages
* Pin docutils version
* Add the remote tag to the badge image
* Drop use of hosts element
* Add missing os-net-config deps
* Replaces uuid.uuid4 with uuidutils.generate\_uuid()
* Change 'cound' to 'could' in error message
* Fix build-image script output
* Remove heat\_docker\_agent/run-os-net-config
* heat-agents use moved 40-hiera-datafiles

5.6.0
-----

* Workflow for applying RAID configuration to Ironic nodes
* Add Ec2ApiPassword to PASSWORD\_PARAMETER\_NAMES
* Create a workflow for running manual cleaning on nodes
* Updated from global requirements
* Represent dib elements as a list
* Environment is a dict, which can't use 'extend'
* Move the overcloudrc generation from tripleoclient to a Mistral action
* Fix invalid tests
* Add python-heat-agent-ansible to overcloud images
* Fix flavor matching for object-storage role
* Add panko to generated passwords
* Convert exceptions to strings when passing them to the Result class
* Remove the underscore from the base action client methods
* Show team and repo badges on README
* Fix parameter update for custom roles
* Do not ignore pm\_port for Drac drivers
* Use kwargs to pass in data and error to Mistral Result
* Revert changes to CephClusterFSID generation
* Generate CephClusterFSID for new stacks
* Build overcloud with overcloud-agent element
* Revert "Add CephClusterFSID to generated passwords"
* Fix tox -epep8 for Python3
* Drop \*openstack/common\* in flake8 exclude list
* Update container images to point to newton
* Pass the plan name when tagging nodes
* Remove network-gateway element from image build
* Fernet Key management

5.5.0
-----

* Remove discover from test-requirements
* Remove python-networking-cisco from overcloud-full image
* Install yum-plugin-priorities on centos images
* Only use parameter\_defaults for scaling down
* Replace ucs\_hostname with ucs\_address
* Create new docker command hook
* Updated from global requirements
* Remove unused bits from node management code in utils/node.py
* Fix the validation ssh keys workflow
* Add CephClusterFSID to generated passwords
* Use parameters from existing Heat stack if it already exists
* Allow building heat-agents image from master
* Clean up configure\_containers.sh script
* Install configuration files for all downloaded packages
* Sets defaults in swift connection related to retries
* Do not try "manage" actions on nodes that are not in "enroll" state
* Power off new nodes when making them available, not right after enrolling
* Remove last vestiges of oslo-incubator
* Updated from global requirements
* Refresh DeployIdentifier as well on update
* Port Scale Down Functionality into Workflow
* Fetch the snmpd\_readonly\_user\_password from the Mistral environment
* Add new hiera agent hook to overcloud images
* Default the J2 excludes files to safe values
* Make UpdateManager use a passed-in stack setup
* Remove the duplication of Workbook in the description
* Add the KeystoneCredential0 and KeystoneCredential1 parameters
* Add the J2 exclude file exception (When file not found)
* Updated from global requirements
* Add support to create role main template file based in role.role.j2.yaml
* Changed the home-page link
* Open tripleo-common for Ocata
* Support node untagging
* Centos images no longer require epel element
* Modify j2 templating to allow role files generation
* Don't set node state during node registration
* Configure run-validation to use the custom output

5.2.0
-----

* Fix upload-swift-artifacts for old OSclient
* Retry sending messages to Zaqar if it fails
* Port password generation from tripleoclient to tripleo-common
* Remove the unused service\_host arg from node registration
* TrivialFix: Remove default=None when set value in Config
* Remove references to overcloud-without-mergepy
* Remove the old, deprecated Mistral action names
* Updated from global requirements
* Return the result of create\_plan in create\_deployment\_plan workflow
* Fix the default plan creation
* Default to Ironic API v1.15
* Add template processing to the update plan workflow
* Revert "Upgrades: Add StackUpgradeManager"
* Revert "Upgrades: Add post-upgrade stack update"
* Revert "Upgrades: Add initialization to StackUpgradeManager"
* Provide: return task result in case of failure

5.1.0
-----

* Add node tagging workflow
* Revert "Add template processing to the update plan workflow."
* Check the result of the parent action when subclassing
* Add FS\_TYPE xfs to RHEL and CentOS images
* Replace agent elements with package python-heat-agent-puppet
* Add template processing to the update plan workflow
* Clearer error when the Mistral env already exists
* Set Deployment Parameters
* Updated from global requirements
* Add an action and workflow to update a plan
* Wire in jinja templating for custom roles
* Run copy\_ssh\_keys after overcloud finishes
* Remove "type: direct" from workflows as it is the default
* Fix an autoclass reference and add missing pages to the toctree
* Allow the validations to run openstack commands
* Handle missing mistral environment
* Clean up messages in the 'configure' workflow
* Fix the validation action name in the workbook
* Ironic Client: Bump the max\_retries and retry\_interval
* Test baremetal: Correctly stop the mocks
* Preserve the shell environment for run-validation
* Add port registration to IPMI power driver
* Fix error when identity file is missing
* Change default deploy artifacts container name
* Fix pep8 errors when running with python3
* Include environments in capabilities output
* Revert "Set Deployment Parameters"
* Add List Roles Action
* Allow for building specific images
* Fix upload-swift-artifacts work new OSclient

5.0.0
-----

* Use Openstack cli instead in order to get the instance status
* Allow running validation against different plans
* Disable retry files for ansible validations
* Workflows to run validations
* Workflows to load validations
* Don't expect input to be in every workflow in doc generation
* Better namespace the list of TripleO actions
* Set Deployment Parameters
* M/N upgrade: Fix ACTIVE node detection
* Generate reference documentation for Workbooks
* Add Mistral action & workflow for root device configuration
* Add Mistral action for boot configuration
* Add boot option argument to the Node Registration Mistral workflow
* Workflow to setup validations
* Updated from global requirements
* Fixes missing action entry point
* Exclude more unneeded files from default plan
* Change output for GetCapabilitiesAction
* Add Plan Deletion
* Verify that neither the Swift container or Mistral environment exist
* Adds Deployment Action & Workflow
* Add backwards compatibility for openstackclient
* Adds parameters actions
* Adds action for template processing
* Add support to image build yaml input to handle env vars
* Fix typo in Introspection workflow message
* Prevent replacement of Port, Net and Subnet
* Change image names to match what the rest of the system expects
* Remove epel element from base yaml ramdisk agent image
* Remove the delorean-repo element from CentOS images
* Ignore changes to images in nova servers
* Adds Plan List Action
* Change input for UpdateCapabilitiesAction
* Install the upload-\* scripts with tripleo-common
* Fix formatting in doc files
* Updated from global requirements
* Extract \`etc\` files from openstack packages
* Build heat-docker-agents for specific versions
* Remove unnecessary packages
* Remove configure\_container.sh script
* Don't clean after \`yum update\` in script
* Fix code highlighting in the README and the title in the toctree
* Minor update to the upgrade-non-controller.sh
* Move Workflow comments into the workflow description property
* Remove unused LOG to keep code clean
* Remove execution\_id from the workflows

5.0.0.0b2
---------

* Updated from global requirements
* Remove sysctl element from overcloud image
* Deployment workflows for remote execution, etc
* Mistral action to drive Heat software deployments
* Updated from global requirements
* Add upload-puppet-modules script
* Updated from global requirements
* Add messaging to workflows
* Allow setting capabilities as a dict in addition to a string
* Add baremetal workflows
* Add RegisterNodesAction action
* Fix exception within deployment plan actions
* overcloud-odl : add new image file definition
* Fix interactive update race condition
* Add --json-output option to tripleo-build-images
* Support setting node UUID when registering nodes
* Add Heat Capabilities Actions
* Add a compatability shim to transition tripleoclient

5.0.0.0b1
---------

* Allow updating of nodes in baremetal import
* Removes unused code
* Add TripleO Mistral documentation
* Remove unnecessary package dhcp-client
* Initial Integration of Mistral into TripleO
* Updated from global requirements
* Import initial\_state logic from tripleoclient
* Log diskimage-builder output to a file
* Remove the TODO from the README.rst
* Updated from global requirements
* Example yaml for building images
* StackAction parameter to distinguish top-level create vs. update
* Expose documented --seconds option
* Fix setting deploy kernel and image when updating nodes
* Fix upload-swift-artifacts with keystone v3
* Fix no-replace-server to accurately preview update

2.0.0
-----

* Return list of new nodes from register\_all\_nodes
* Import code working with Ironic nodes from os\_cloud\_config
* Upload docker image files from yaml config file
* Use a common constant for the Heat timeout value
* Build image files from definitions in yaml
* Remove ping test template from tripleo-common
* Upgrades: Add initialization to StackUpgradeManager
* Upgrades: Add post-upgrade stack update
* Remove tripleo.sh (now in tripleo-ci repo)
* Fix typos in code
* Use m1.small for ping test
* Replace deprecated LOG.warn with LOG.warning
* Install the upgrade-non-controller.sh script with tripleo-common
* Collect constants in one file
* Change the private subnet of the overcloud tenant network
* Missing python-ipaddr in heat-agents image
* Add capabilities filter for Nova
* Prevent any property change from replacing OS::Nova::Server
* Expose TENANT\_STACK\_DEPLOY\_ARGS
* Adds override for the overcloud node user in upgrade-non-controller
* Upgrades: Add StackUpgradeManager
* Adds a bash script that operators will use during upgrades
* Updated from global requirements
* Use PyYAML's safe\_dump to avoid outputting Python specific values
* Return current-tripleo symlink
* Override OS::Nova::Server for user\_data updates
* Move delorean pin
* Reuse puppet modules already downloaded
* Allow updating images via \`tripleo.sh --overcloud-images\`
* Add requirement for gcc to delorean setup
* Convenience methods in base model class
* Pin puppet-nova
* Extend ping test create timeout
* Retry delorean package builds on known network errors
* Pin puppet-concat
* Detect when we need the alternate heat command
* Use Fedora image for ping test

1.0.0
-----

* Output some debug info when pingtest fails
* Revert "Pin puppet heat"
* Revert "Pin puppetlabs-mysql to get CI going"
* Pin puppet heat
* Catch NotFound when listing events during updates
* Update pingtest for newer heatclient
* Use git.openstack.org where possible
* Revert "Pin the puppetlabs mongodb puppet module"
* Pin the puppetlabs mongodb puppet module
* Adds a simple overcloud tenant vm ping test to tripleo.sh
* Add openstack packages to heat-agents container
* Update tripleo.sh to enable repo path override
* Remove stable/liberty pin
* Heat Docker agent built with Dockerfile
* Pin stable/liberty repo
* tripleo.sh support updating and checking deployed overcloud
* Update the container flag
* tripleo.sh add option to delete overcloud
* Add scripts/upload-swift-artifacts
* Add OVERCLOUD\_IMAGES\_ARGS environment variable
* Improve docs for template utils
* Rename stack\_update to \_stack\_update
* Switch to Mega progress reports
* Fixes heat exceptions
* Add the missing plan name to the PlanAlreadyExistsError
* Drop py33 support
* Pin puppetlabs-mysql to get CI going
* Adds file deletion to plan manager
* Ensures plan exists
* Initial workflow implementation of tripleo-common
* Set a default timeout for 240 minutes for Heat Updates

0.1.0
-----

* Set origin/stable/liberty to the REF we want to build
* Remove Python 2.6
* Make coverage tests work
* Remove flavor creation
* tripleo.sh set priorities for stable repos
* Updated from global requirements
* Set DIB\_INSTALLTYPE\_puppet\_modules for master/stable
* Show which breakpoint will be cleared by pressing Enter
* Change breakpoint removal log to info
* Deploy Docker compute role with tripleo.sh
* Don't install git-hg
* tripleo.sh initial support for stable branches
* Updated from global requirements
* Fix node group name when deleting a node
* Remove puppet-heat pin
* Update the repo whitelist to reflect what we CI
* Pin puppet-heat
* Fix cherry-pick comments
* tripleo.sh Add option to locally build delorean package
* tripleo.sh Add option to create a local Delorean environment
* Fix bashate errors
* Remove empty test file
* Explicitly unset package update hooks when deleting a node
* Fix CentOS detection
* Fix wrong node count when deleting specific nodes
* Remove support for Tuskar
* Add tripleo.sh
* Don't send default environment file on pkg update or scale
* Change ignore-errors to ignore\_errors
* Catch and log all exceptions when removing a breakpoint
* Minimize walking through stack when removing a breakpoint
* Check if regexp is valid when updating packages
* Don't set UpdateIdentifier in tuskar plan
* Allow passing extra environment files when scaling nodes
* Make tuskar optional when scaling down
* Allow passing extra environment files to package update
* Make tuskar optional when running package update
* Add package update support
* Add a step-through heat stack update module
* Scale down heat stack
* Scale out heat stack
* Initial Cookiecutter Commit
* Added .gitreview
